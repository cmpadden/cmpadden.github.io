import{_,c as r,g as O,e,n as y,t as m,F as p,h,f as M,w as g,P as x,o as n,d as w}from"./BqeYzJ2Y.js";var c={},b;function A(){if(b)return c;b=1,Object.defineProperty(c,"__esModule",{value:!0}),c.identify=void 0;const i=["C","C# / Db","D","D# / Eb","E","F","F# / Gb","G","G# / Ab","A","A# / Bb","B"],t={"0 1":{name:"No 3 Major 7",rootOffset:1},"0 2":{name:"No 3 7",rootOffset:2},"0 3":{name:"Minor",rootOffset:0},"0 4":{name:"",rootOffset:0},"0 5":{name:"5",rootOffset:5},"0 6":{name:"7",rootOffset:2},"0 7":{name:"5",rootOffset:0},"0 8":{name:"",rootOffset:8},"0 9":{name:"Minor",rootOffset:9},"0 10":{name:"No 3 7",rootOffset:0},"0 11":{name:"No 3 Major 7",rootOffset:0},"0 2 7":{name:"Suspended 2",rootOffset:0},"0 3 6 10":{name:"Half-diminished 7",rootOffset:0},"0 3 6 9":{name:"Diminished 7",rootOffset:0},"0 3 6":{name:"Diminished",rootOffset:0},"0 3 7 10":{name:"Minor 7",rootOffset:0},"0 3 7 11":{name:"Minor-major 7",rootOffset:0},"0 3 7 9":{name:"Minor 6",rootOffset:0},"0 3 7":{name:"Minor",rootOffset:0},"0 4 10":{name:"7",rootOffset:0},"0 4 11":{name:"Major 7",rootOffset:0},"0 4 5 7":{name:"Add 11",rootOffset:0},"0 4 6":{name:"Flat 5",rootOffset:0},"0 4 7 10":{name:"Dominant 7",rootOffset:0},"0 4 7 11":{name:"Major 7",rootOffset:0},"0 4 7 9":{name:"Major 6",rootOffset:0},"0 4 7":{name:"",rootOffset:0},"0 4 8 10":{name:"Augmented 7",rootOffset:0},"0 4 8":{name:"Augmented",rootOffset:0},"0 5 7":{name:"Suspended 4",rootOffset:0},"0 5 8":{name:"Minor",rootOffset:5},"0 5 9":{name:"",rootOffset:5},"0 4 9":{name:"Minor",rootOffset:9},"0 3 8":{name:"",rootOffset:8},"0 1 5":{name:"Major 7",rootOffset:1},"0 2 6":{name:"Major 7",rootOffset:2},"0 4 5":{name:"5 Major 7",rootOffset:5},"0 1 2":{name:"No 3 7 Major 7",rootOffset:2},"0 1 3":{name:"Minor Add Flat 9",rootOffset:0},"0 1 6":{name:"5 Sharp 11",rootOffset:6},"0 1 7":{name:"5 Add Flat 9",rootOffset:0},"0 1 8":{name:"5 Major 7",rootOffset:1},"0 1 9":{name:"Sharp 9",rootOffset:9},"0 1 10":{name:"Minor Add 9",rootOffset:10},"0 1 11":{name:"No 3 7 Major 7",rootOffset:1},"0 2 10":{name:"Add 9",rootOffset:10},"0 2 11":{name:"Minor Add Flat 9",rootOffset:11},"0 2 3":{name:"Minor Add 9",rootOffset:0},"0 2 4":{name:"Add 9",rootOffset:0},"0 2 5":{name:"Minor 7",rootOffset:2},"0 2 8":{name:"Flat 5",rootOffset:8},"0 2 9":{name:"5 7",rootOffset:2},"0 3 10":{name:"Minor 7",rootOffset:0},"0 3 4":{name:"Sharp 9",rootOffset:0},"0 3 5":{name:"5 7",rootOffset:5},"0 3 9":{name:"Minor 6",rootOffset:0},"0 5 10":{name:"Suspended 2",rootOffset:10},"0 5 11":{name:"5 Sharp 11",rootOffset:5},"0 5 6":{name:"5 Add Flat 9",rootOffset:5},"0 6 10":{name:"Flat 5",rootOffset:6},"0 6 7":{name:"5 Sharp 11",rootOffset:0},"0 6 8":{name:"7",rootOffset:8},"0 6 9":{name:"Minor 6",rootOffset:9},"0 7 10":{name:"5 7",rootOffset:0},"0 7 11":{name:"5 Major 7",rootOffset:0},"0 7 8":{name:"Major 7",rootOffset:8},"0 7 9":{name:"Minor 7",rootOffset:9},"0 8 10":{name:"Add 9",rootOffset:8},"0 8 11":{name:"Sharp 9",rootOffset:8},"0 9 10":{name:"Minor Add Flat 9",rootOffset:9},"0 9 11":{name:"Minor Add 9",rootOffset:9},"0 10 11":{name:"No 3 7 Major 7",rootOffset:0},"0 1 4":{name:"Sharp 9",rootOffset:9},"0 8 9":{name:"Sharp 9",rootOffset:5},"0 6 11":{name:"7/13",rootOffset:2},"0 3 11":{name:"Sharp 9",rootOffset:8}};function d(v){const a=v.map(o=>typeof o=="number"?o:i.indexOf(o));if(a.some(o=>o<0))throw new Error("Unsupported note letter or number provided");if(new Set(a.map(o=>o%12)).size===1)return{name:i[a[0]%12]};const f=a.sort((o,l)=>o-l)[0]%12,s=[...new Set(a.map(o=>(o-f)%12).sort((o,l)=>o-l))],u=t[s.join(" ")];if(u){const o=(f+u.rootOffset)%12,l=i[o];return{name:u.name!==""?`${l} ${u.name}`:l,interval:s,root:o}}else return{name:void 0}}return c.identify=d,c}var k=A();const N={mounted(){typeof navigator.requestMIDIAccess<"u"&&navigator.requestMIDIAccess().then(i=>{this.midi=i,this.midi.inputs.forEach(t=>{t.onmidimessage=d=>{d.data[0]===144&&(this.activeKeys.set(d.data[1],d.data),this.$forceUpdate()),d.data[0]===128&&(this.activeKeys.delete(d.data[1]),this.$forceUpdate())}})},i=>{console.error(i)})},data(){return{tooltip:!1,midi:void 0,activeKeys:new Map}},computed:{inputs(){if(typeof this.midi<"u")return Array.from(this.midi.inputs.values())},outputs(){if(typeof this.midi<"u")return Array.from(this.midi.outputs.values())}},methods:{orderedNotes(){return Array.from(this.activeKeys.keys()).sort()},chord(){const i=Array.from(this.activeKeys.keys());return k.identify(i).name}}},S={class:"h-2/3 bg-gradient-to-b from-green-900 via-purple-900 to-indigo-900 text-white"},j={key:0,class:"p-4 text-center font-light tracking-wide"},I={key:1},D={class:"flex flex-wrap"},E={class:"absolute bottom-16 right-2"},F={class:"p-3 font-mono text-orange-900"},z={class:"mb-2 font-bold"},V={class:"mb-2"},C={key:0,class:"p-4 text-center italic"},T={key:1},B={class:"flex-1"},K={class:"flex-1"},P={class:"mb-2"},U={key:0,class:"p-4 text-center italic"},q={key:1},G={class:"flex-1"},L={class:"flex-1"},R={class:"absolute bottom-2 right-2"},H={class:"absolute bottom-4 left-4"},W={class:"flex"},Y={class:"grid h-screen place-items-center"},J={class:"text-center text-4xl font-semibold tracking-wide"},Q={key:0};function X(i,t,d,v,a,f){return n(),r("div",S,[typeof a.midi>"u"?(n(),r("div",j,t[1]||(t[1]=[O(" Unfortunately, the Web MIDI API is "),e("a",{class:"text-blue-500 underline",href:"https://developer.mozilla.org/en-US/docs/Web/API/MIDIMessageEvent#browser_compatibility"},"not supported",-1),O(" in all browsers... ")]))):(n(),r("div",I,[e("div",D,[e("div",E,[e("div",{class:y([{hidden:!a.tooltip,block:a.tooltip},"z-50 max-w-md break-words rounded-lg border-2 border-green-800 bg-yellow-200 text-sm font-normal leading-normal"])},[e("div",null,[t[5]||(t[5]=e("div",{class:"mb-0 rounded-t-lg border-b border-solid bg-green-600 p-3 font-semibold uppercase text-white opacity-75"}," MIDI Status ",-1)),e("div",F,[e("div",z,[t[2]||(t[2]=O(" Enabled: ")),e("span",null,m(typeof a.midi<"u"?"Yep!":"Nope"),1)]),e("div",V,[t[3]||(t[3]=e("div",{class:"font-bold"},"Inputs:",-1)),f.inputs.length===0?(n(),r("div",C," No input devices detected :( ")):(n(),r("div",T,[(n(!0),r(p,null,h(f.inputs,s=>(n(),r("div",{key:s.id,class:"flex"},[e("div",B,m(s.manufacturer),1),e("div",K,m(s.name),1)]))),128))]))]),e("div",P,[t[4]||(t[4]=e("div",{class:"font-bold"},"Outputs:",-1)),f.outputs.length===0?(n(),r("div",U," No output devices detected :( ")):(n(),r("div",q,[(n(!0),r(p,null,h(f.outputs,s=>(n(),r("div",{key:s.id,class:"flex"},[e("div",G,m(s.manufacturer),1),e("div",L,m(s.name),1)]))),128))]))])])])],2)]),e("div",R,[e("button",{onClick:t[0]||(t[0]=s=>a.tooltip=!a.tooltip),class:"border-3 rounded-lg border-green-600 bg-green-50 px-1 text-green-600 shadow hover:text-green-500 hover:shadow-lg",type:"button"},t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",class:"h-10 w-10"},[e("g",{fill:"none"},[e("path",{d:"M2.5 4a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5h-15zm.5 6h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v5H3v-5zm2.75-2.5a.75.75 0 1 1 0-1.5a.75.75 0 0 1 0 1.5zm6.25-1a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm-3 .251a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0z",fill:"currentColor"})])],-1)]))])]),e("div",H,[e("div",W,[(n(!0),r(p,null,h(f.orderedNotes(),s=>(n(),r("div",{key:s,class:"p-4"},m(s),1))),128))])]),e("div",Y,[e("div",null,[e("div",J,[M(x,{"enter-active-class":"duration-500 ease-out","enter-class":"opacity-0 transform","enter-to-class":"opacity-100","leave-active-class":"duration-500","leave-class":"opacity-100","leave-to-class":"opacity-0 transform"},{default:g(()=>[a.activeKeys.size>=1?(n(),r("div",Q,m(f.chord()||"?"),1)):w("",!0)]),_:1})])])])]))])}const $=_(N,[["render",X]]);export{$ as default};
