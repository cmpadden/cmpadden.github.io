import{_ as u,c as s,h as r,b as t,n as f,t as n,F as c,r as h,e as m,o}from"./entry.328ff6cc.js";const v={mounted(){typeof navigator.requestMIDIAccess<"u"&&navigator.requestMIDIAccess().then(i=>{this.midi=i,this.midi.inputs.forEach(l=>{l.onmidimessage=_=>{this.events.push(_),this.events.length>15&&this.events.shift()}})},i=>{console.error(i)})},data(){return{tooltip:!1,midi:void 0,events:[]}},computed:{inputs(){if(typeof this.midi<"u")return Array.from(this.midi.inputs.values())},outputs(){if(typeof this.midi<"u")return Array.from(this.midi.outputs.values())}},filters:{midiCommand:i=>{switch(i){case 144:return"Note On";case 128:return"Note Off";default:return i}},midiNote:i=>`${["C","C# / Db","D","D# / Eb","E","F","F# / Bb","G","G# / Ab","A","A# / Bb","B"][i%12]} (${Math.floor(i/12)-2})`}},b={class:"h-2/3 bg-gradient-to-b from-green-100 to-green-50"},x={key:0,class:"p-4 text-center font-light tracking-wide"},g=t("a",{class:"text-blue-500 underline",href:"https://developer.mozilla.org/en-US/docs/Web/API/MIDIMessageEvent#browser_compatibility"},"not supported",-1),y={key:1},w={class:"flex flex-wrap"},k={class:"absolute bottom-16 right-2"},I=t("div",{class:"mb-0 rounded-t-lg border-b border-solid bg-green-600 p-3 font-semibold uppercase text-white opacity-75"}," MIDI Status ",-1),M={class:"p-3 font-mono text-orange-900"},N={class:"mb-2 font-bold"},D={class:"mb-2"},C=t("div",{class:"font-bold"},"Inputs:",-1),A={key:0,class:"p-4 text-center italic"},z={key:1},E={class:"flex-1"},V={class:"flex-1"},B={class:"mb-2"},F=t("div",{class:"font-bold"},"Outputs:",-1),S={key:0,class:"p-4 text-center italic"},O={key:1},P={class:"flex-1"},q={class:"flex-1"},G={class:"absolute bottom-2 right-2"},T=t("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",class:"h-10 w-10"},[t("g",{fill:"none"},[t("path",{d:"M2.5 4a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5h-15zm.5 6h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v5H3v-5zm2.75-2.5a.75.75 0 1 1 0-1.5a.75.75 0 0 1 0 1.5zm6.25-1a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm-3 .251a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0z",fill:"currentColor"})])],-1),U=[T],W={class:"container mx-auto p-8"},H=t("div",{class:"font-display text-4xl font-light tracking-wide"}," MIDI Events ",-1),L={class:"w-full table-auto border-2 border-green-800 bg-green-50 text-sm"},R=t("thead",{class:"bg-green-800 font-semibold uppercase text-white"},[t("tr",null,[t("th",{class:"p-2 text-left"},"Timestamp"),t("th",{class:"p-2 text-left"},"Command #"),t("th",{class:"p-2 text-left"},"Command"),t("th",{class:"p-2 text-left"},"Note #"),t("th",{class:"p-2 text-left"},"Note"),t("th",{class:"p-2 text-left"},"Velocity"),t("th",{class:"p-2 text-right"},"MIDI Source")])],-1),Y={class:"divide-y divide-gray-100"},j={key:0},J=t("td",{class:"p-4 text-center italic",colspan:"7"}," Press a key, or turn a knob! ",-1),K=[J],Q={class:"p-2 text-left"},X={class:"p-2 text-left"},Z={class:"p-2 text-left"},$={class:"p-2 text-left"},tt={key:0,class:"p-2 text-left"},et={key:1,class:"p-2 text-left"},st={class:"p-2 text-left"},ot={class:"p-2 text-right"};function it(i,l,_,nt,d,a){return o(),s("div",b,[typeof d.midi>"u"?(o(),s("div",x,[r(" Unfortunately, the Web MIDI API is "),g,r(" in all browsers... ")])):(o(),s("div",y,[t("div",w,[t("div",k,[t("div",{class:f([{hidden:!d.tooltip,block:d.tooltip},"z-50 max-w-md break-words rounded-lg border-2 border-green-800 bg-yellow-200 text-sm font-normal leading-normal"])},[t("div",null,[I,t("div",M,[t("div",N,[r(" Enabled: "),t("span",null,n(typeof d.midi<"u"?"Yep!":"Nope"),1)]),t("div",D,[C,a.inputs.length===0?(o(),s("div",A," No input devices detected :( ")):(o(),s("div",z,[(o(!0),s(c,null,h(a.inputs,e=>(o(),s("div",{key:e.id,class:"flex"},[t("div",E,n(e.manufacturer),1),t("div",V,n(e.name),1)]))),128))]))]),t("div",B,[F,a.outputs.length===0?(o(),s("div",S," No output devices detected :( ")):(o(),s("div",O,[(o(!0),s(c,null,h(a.outputs,e=>(o(),s("div",{key:e.id,class:"flex"},[t("div",P,n(e.manufacturer),1),t("div",q,n(e.name),1)]))),128))]))])])])],2)]),t("div",G,[t("button",{ref:"btnRef",onClick:l[0]||(l[0]=e=>d.tooltip=!d.tooltip),class:"rounded-lg bg-green-800 px-2 py-1 text-white shadow hover:text-yellow-200 hover:shadow-lg",type:"button"},U,512)])]),t("div",W,[H,t("table",L,[R,t("tbody",Y,[d.events.length===0?(o(),s("tr",j,K)):m("",!0),(o(!0),s(c,null,h(d.events,(e,p)=>(o(),s("tr",{key:p},[t("td",Q,n(e.timeStamp.toFixed(2)),1),t("td",X,n(e.data[0]),1),t("td",Z,n(e.data[0]|i.midiCommand),1),t("td",$,n(e.data[1]),1),e.data[0]===144||e.data[0]==128?(o(),s("td",tt,n(e.data[1]|i.midiNote),1)):(o(),s("td",et,"-")),t("td",st,n(e.data[2]),1),t("td",ot,n(e.srcElement.name),1)]))),128))])])])]))])}const lt=u(v,[["render",it]]);export{lt as default};
