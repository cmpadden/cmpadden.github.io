import{j as p,m as H,o as W,c as S,b as g}from"./entry.11f8fb72.js";const _={id:"spectrogram-canvas-container",class:"h-full w-full"},x=["width","height"],h=36,b={__name:"Spectrogram",props:{frequencyDomainBufferHistory:{type:Array},canvasWidth:{type:Number},canvasHeight:{type:Number},fillStyle:{type:String,default:"rgba(0,0,0)"}},setup(r){const e=r,m=(a,t,s,c,n)=>(a-t)*(n-t)/(s-t)+c;return p(()=>{const a=document.getElementById("spectrogramCanvas"),t=a.getContext("2d"),s=document.getElementById("spectrogram-canvas-container"),c=e.canvasHeight?e.canvasHeight:s.clientHeight,n=e.canvasWidth?e.canvasWidth:s.clientWidth;a.height=c,a.width=n,t.fillRect(0,0,n,c),H(e.frequencyDomainBufferHistory,u=>{t.fillStyle=e.fillStyle,t.fillRect(0,0,n,c);const v=u.slice(-h),d=n/128,f=c/h;for(let i=0;i<128;i++)for(let o=0;o<h;o++){const l=v[o][i],y=m(l,0,255,1,4);t.fillStyle=`rgb(${l}, 0, ${l})`,t.beginPath(),t.arc(i*d+d/2,o*f+f/2,y,0,2*Math.PI),t.fill()}})}),(a,t)=>(W(),S("div",null,[g("div",_,[g("canvas",{id:"spectrogramCanvas",width:r.canvasWidth,height:r.canvasHeight},null,8,x)])]))}};export{b as default};
