import{_ as b,c as o,a as t,F as d,r as _,o as l,e as g,f as p,g as f,t as a,n as u,h as v}from"./entry.b8fa2635.js";import{_ as k}from"./ContentRendererMarkdown.vue.9cda77ac.js";import y from"./ContentRenderer.f6373511.js";import{q as C}from"./query.d1affb89.js";import"./index.a6ef77ff.js";import"./preview.b756a7eb.js";import"./index.c9d4dc9e.js";const w={async setup(){return{articles:await C().only(["_id","_path","title","description","date","img","author","tags","categories","img","excerpt","summary"]).sort({date:-1}).limit(5).find()}},data(){return{selected_tags:[],selected_categories:[]}},computed:{categories(){return[...new Set(this.articles.map(s=>s.categories).flat().sort())]},tags(){return[...new Set(this.articles.map(s=>s.tags).flat().sort())]},visible_articles(){return this.articles.filter(s=>!(this.selected_categories.length>0&&!this.selected_categories.every(c=>s.categories.includes(c))||this.selected_tags.length>0&&!this.selected_tags.every(c=>s.tags.includes(c))))}},methods:{toggle_tag(s){this.selected_tags.includes(s)?this.selected_tags=this.selected_tags.filter(c=>c!==s):this.selected_tags.push(s)},toggle_category(s){this.selected_categories.includes(s)?this.selected_categories=this.selected_categories.filter(c=>c!==s):this.selected_categories.push(s)}}},N={class:"container mx-auto"},B={class:"grid grid-cols-4 gap-4"},R={class:"col-span-4 lg:col-span-3"},S={class:"bg-black/50 text-white rounded-xl shadow-xl"},V={class:"h-full relative mb-2"},q={class:"px-4 py-2"},F={class:"font-bold text-xl mb-2"},L={class:"text-sm flex items-center"},T={class:"px-4 pb-12 mb-3"},j={class:"prose-sm"},z={class:"mb-4 absolute bottom-0 right-0"},D={class:"tag"},E={class:"col-span-4 lg:col-span-1 inline-block"},M={class:"mb-3 bg-black/50 text-white rounded-xl"},A=t("p",{class:"font-bold text-xl py-2 px-3 mb-0"},"Categories",-1),G=["onClick"],H={class:"mb-3 bg-black/50 text-white rounded-xl"},I=t("p",{class:"font-bold text-xl py-2 px-3 mb-0"},"Tags",-1),J={class:"p-2"},K=["onClick"];function O(s,c,P,Q,i,r){const h=v,m=k,x=y;return l(),o("section",N,[t("div",B,[t("div",R,[(l(!0),o(d,null,_(r.visible_articles,e=>(l(),o("div",{key:e._id},[t("div",S,[t("div",V,[t("div",q,[t("div",F,[g(h,{class:"gradient-underline",to:e._path},{default:p(()=>[f(a(e.title),1)]),_:2},1032,["to"])]),t("p",L,a(e.date),1)]),t("div",T,[t("p",j,[g(x,{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto",value:e},{default:p(()=>[g(m,{value:{body:e.excerpt}},null,8,["value"])]),_:2},1032,["value"])])]),t("div",z,[(l(!0),o(d,null,_(e.tags,n=>(l(),o("span",{key:n,class:u([{"bg-green-600":i.selected_tags.includes(n)},"inline-block bg-black px-3 py-1 text-sm text-cyan mr-2 select-none"])},[t("div",D,a(n),1)],2))),128))])])])]))),128))]),t("div",E,[t("div",M,[A,(l(!0),o(d,null,_(r.categories,e=>(l(),o("a",{key:e,class:u([{"bg-green-600":i.selected_categories.includes(e),"hover:bg-red-600":i.selected_categories.includes(e)},"block border-t border-black py-1 px-4 hover:bg-black text-cyan cursor-pointer select-none"]),onClick:n=>r.toggle_category(e)},a(e),11,G))),128))]),t("div",H,[I,t("div",J,[(l(!0),o(d,null,_(r.tags,(e,n)=>(l(),o("span",{key:n,class:u([{"bg-green-600":i.selected_tags.includes(e),"hover:bg-red-600":i.selected_tags.includes(e)},"inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-black justify-center h-8 px-3 text-sm text-cyan cursor-pointer select-none"]),onClick:U=>r.toggle_tag(e)},[t("div",null,a(e),1)],10,K))),128))])])])])])}const se=b(w,[["render",O]]);export{se as default};
