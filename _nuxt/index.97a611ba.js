import{_ as x,o as l,c as o,d as t,F as d,a0 as _,a as g,w as u,e as f,$ as a,n as p,f as v}from"./entry.1a5c9677.js";import y from"./ContentRendererMarkdown.6b64868b.js";import k from"./ContentRenderer.f00729f0.js";import{q as C}from"./query.cbd8d5f6.js";import"./index.1dec55d2.js";import"./preview.a774dabc.js";import"./index.48c103b6.js";import"./utils.6ffd855f.js";const w={async setup(){return{articles:await C().only(["_id","_path","title","description","date","img","author","tags","categories","img","excerpt","summary"]).sort({date:-1}).limit(5).find()}},data(){return{selected_tags:[],selected_categories:[]}},computed:{categories(){return[...new Set(this.articles.map(s=>s.categories).flat().sort())]},tags(){return[...new Set(this.articles.map(s=>s.tags).flat().sort())]},visible_articles(){return this.articles.filter(s=>!(this.selected_categories.length>0&&!this.selected_categories.every(r=>s.categories.includes(r))||this.selected_tags.length>0&&!this.selected_tags.every(r=>s.tags.includes(r))))}},methods:{toggle_tag(s){this.selected_tags.includes(s)?this.selected_tags=this.selected_tags.filter(r=>r!==s):this.selected_tags.push(s)},toggle_category(s){this.selected_categories.includes(s)?this.selected_categories=this.selected_categories.filter(r=>r!==s):this.selected_categories.push(s)}}},N={class:"mx-6 md:mx-12"},B={class:"grid grid-cols-4 gap-4"},S={class:"col-span-4 lg:col-span-3"},V={class:"shadow-lg bg-gray-300 h-full relative mb-2"},q={class:"px-4 py-2"},F={class:"font-bold text-xl"},L={class:"text-sm text-gray-600 flex items-center"},R={class:"px-4 pt-2 pb-12 mb-3 bg-gray-100"},T={class:"text-gray-700 prose-sm"},j={class:"mb-6 absolute bottom-0 right-0"},z={class:"tag"},D={class:"col-span-4 lg:col-span-1 inline-block"},E={class:"panel mb-3 bg-white"},M=t("p",{class:"font-bold text-xl bg-gray-300 py-2 px-3 mb-0"},"Categories",-1),A=["onClick"],G={class:"panel mb-3"},H=t("p",{class:"font-bold text-xl bg-gray-300 py-2 px-3 mb-0"},"Tags",-1),I={class:"panel-block bg-gray-100 border p-2"},J=["onClick"];function K(s,r,O,P,i,c){const m=v,h=y,b=k;return l(),o("section",N,[t("div",B,[t("div",S,[(l(!0),o(d,null,_(c.visible_articles,e=>(l(),o("div",{key:e._id},[t("div",null,[t("div",V,[t("div",q,[t("div",F,[g(m,{class:"gradient-underline",to:e._path},{default:u(()=>[f(a(e.title),1)]),_:2},1032,["to"])]),t("p",L,a(e.date),1)]),t("div",R,[t("p",T,[g(b,{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto",value:e},{default:u(()=>[g(h,{value:{body:e.excerpt}},null,8,["value"])]),_:2},1032,["value"])])]),t("div",j,[(l(!0),o(d,null,_(e.tags,n=>(l(),o("span",{key:n,class:p([{"bg-green-100":i.selected_tags.includes(n)},"inline-block bg-gray-200 px-3 py-1 mr-2 text-sm text-blue-500 mr-2 select-none"])},[t("div",z,a(n),1)],2))),128))])])])]))),128))]),t("div",D,[t("div",E,[M,(l(!0),o(d,null,_(c.categories,e=>(l(),o("a",{key:e,class:p([{"bg-green-100":i.selected_categories.includes(e),"hover:bg-red-100":i.selected_categories.includes(e)},"block border-t py-1 px-4 hover:bg-purple-200 text-blue-500 cursor-pointer select-none"]),onClick:n=>c.toggle_category(e)},a(e),11,A))),128))]),t("div",G,[H,t("div",I,[(l(!0),o(d,null,_(c.tags,(e,n)=>(l(),o("span",{key:n,class:p([{"bg-green-100":i.selected_tags.includes(e),"hover:bg-red-100":i.selected_tags.includes(e)},"inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-200 justify-center h-8 px-3 text-sm text-blue-500 hover:bg-purple-200 cursor-pointer select-none"]),onClick:Q=>c.toggle_tag(e)},[t("div",null,a(e),1)],10,J))),128))])])])])])}const se=x(w,[["render",K]]);export{se as default};
