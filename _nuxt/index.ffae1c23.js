import{_,o as s,c as r,e as l,d as e,n as v,$ as d,F as c,a0 as h,a as b,w as y,T as M,a1 as g}from"./entry.4b1bb13a.js";var O={};Object.defineProperty(O,"__esModule",{value:!0});var p=O.identify=void 0;const u=["C","C# / Db","D","D# / Eb","E","F","F# / Gb","G","G# / Ab","A","A# / Bb","B"],x={"0 1":{name:"No 3 Major 7",rootOffset:1},"0 2":{name:"No 3 7",rootOffset:2},"0 3":{name:"Minor",rootOffset:0},"0 4":{name:"",rootOffset:0},"0 5":{name:"5",rootOffset:5},"0 6":{name:"7",rootOffset:2},"0 7":{name:"5",rootOffset:0},"0 8":{name:"",rootOffset:8},"0 9":{name:"Minor",rootOffset:9},"0 10":{name:"No 3 7",rootOffset:0},"0 11":{name:"No 3 Major 7",rootOffset:0},"0 2 7":{name:"Suspended 2",rootOffset:0},"0 3 6 10":{name:"Half-diminished 7",rootOffset:0},"0 3 6 9":{name:"Diminished 7",rootOffset:0},"0 3 6":{name:"Diminished",rootOffset:0},"0 3 7 10":{name:"Minor 7",rootOffset:0},"0 3 7 11":{name:"Minor-major 7",rootOffset:0},"0 3 7 9":{name:"Minor 6",rootOffset:0},"0 3 7":{name:"Minor",rootOffset:0},"0 4 10":{name:"7",rootOffset:0},"0 4 11":{name:"Major 7",rootOffset:0},"0 4 5 7":{name:"Add 11",rootOffset:0},"0 4 6":{name:"Flat 5",rootOffset:0},"0 4 7 10":{name:"Dominant 7",rootOffset:0},"0 4 7 11":{name:"Major 7",rootOffset:0},"0 4 7 9":{name:"Major 6",rootOffset:0},"0 4 7":{name:"",rootOffset:0},"0 4 8 10":{name:"Augmented 7",rootOffset:0},"0 4 8":{name:"Augmented",rootOffset:0},"0 5 7":{name:"Suspended 4",rootOffset:0},"0 5 8":{name:"Minor",rootOffset:5},"0 5 9":{name:"",rootOffset:5},"0 4 9":{name:"Minor",rootOffset:9},"0 3 8":{name:"",rootOffset:8},"0 1 5":{name:"Major 7",rootOffset:1},"0 2 6":{name:"Major 7",rootOffset:2},"0 4 5":{name:"5 Major 7",rootOffset:5},"0 1 2":{name:"No 3 7 Major 7",rootOffset:2},"0 1 3":{name:"Minor Add Flat 9",rootOffset:0},"0 1 6":{name:"5 Sharp 11",rootOffset:6},"0 1 7":{name:"5 Add Flat 9",rootOffset:0},"0 1 8":{name:"5 Major 7",rootOffset:1},"0 1 9":{name:"Sharp 9",rootOffset:9},"0 1 10":{name:"Minor Add 9",rootOffset:10},"0 1 11":{name:"No 3 7 Major 7",rootOffset:1},"0 2 10":{name:"Add 9",rootOffset:10},"0 2 11":{name:"Minor Add Flat 9",rootOffset:11},"0 2 3":{name:"Minor Add 9",rootOffset:0},"0 2 4":{name:"Add 9",rootOffset:0},"0 2 5":{name:"Minor 7",rootOffset:2},"0 2 8":{name:"Flat 5",rootOffset:8},"0 2 9":{name:"5 7",rootOffset:2},"0 3 10":{name:"Minor 7",rootOffset:0},"0 3 4":{name:"Sharp 9",rootOffset:0},"0 3 5":{name:"5 7",rootOffset:5},"0 3 9":{name:"Minor 6",rootOffset:0},"0 5 10":{name:"Suspended 2",rootOffset:10},"0 5 11":{name:"5 Sharp 11",rootOffset:5},"0 5 6":{name:"5 Add Flat 9",rootOffset:5},"0 6 10":{name:"Flat 5",rootOffset:6},"0 6 7":{name:"5 Sharp 11",rootOffset:0},"0 6 8":{name:"7",rootOffset:8},"0 6 9":{name:"Minor 6",rootOffset:9},"0 7 10":{name:"5 7",rootOffset:0},"0 7 11":{name:"5 Major 7",rootOffset:0},"0 7 8":{name:"Major 7",rootOffset:8},"0 7 9":{name:"Minor 7",rootOffset:9},"0 8 10":{name:"Add 9",rootOffset:8},"0 8 11":{name:"Sharp 9",rootOffset:8},"0 9 10":{name:"Minor Add Flat 9",rootOffset:9},"0 9 11":{name:"Minor Add 9",rootOffset:9},"0 10 11":{name:"No 3 7 Major 7",rootOffset:0},"0 1 4":{name:"Sharp 9",rootOffset:9},"0 8 9":{name:"Sharp 9",rootOffset:5},"0 6 11":{name:"7/13",rootOffset:2},"0 3 11":{name:"Sharp 9",rootOffset:8}};function w(f){const a=f.map(t=>typeof t=="number"?t:u.indexOf(t));if(a.some(t=>t<0))throw new Error("Unsupported note letter or number provided");if(new Set(a.map(t=>t%12)).size===1)return{name:u[a[0]%12]};const i=a.sort((t,o)=>t-o)[0]%12,m=[...new Set(a.map(t=>(t-i)%12).sort((t,o)=>t-o))],n=x[m.join(" ")];if(n){const t=(i+n.rootOffset)%12,o=u[t];return{name:n.name!==""?`${o} ${n.name}`:o,interval:m,root:t}}else return{name:void 0}}p=O.identify=w;const A={mounted(){typeof navigator.requestMIDIAccess<"u"&&navigator.requestMIDIAccess().then(f=>{this.midi=f,this.midi.inputs.forEach(a=>{a.onmidimessage=i=>{i.data[0]===144&&(this.activeKeys.set(i.data[1],i.data),this.$forceUpdate()),i.data[0]===128&&(this.activeKeys.delete(i.data[1]),this.$forceUpdate())}})},f=>{console.error(f)})},data(){return{tooltip:!1,midi:void 0,activeKeys:new Map}},computed:{inputs(){if(typeof this.midi<"u")return Array.from(this.midi.inputs.values())},outputs(){if(typeof this.midi<"u")return Array.from(this.midi.outputs.values())}},methods:{orderedNotes(){return Array.from(this.activeKeys.keys()).sort()},chord(){const f=Array.from(this.activeKeys.keys());return p(f).name}}},k={class:"h-screen text-white bg-gradient-to-b from-green-900 via-purple-900 to-indigo-900"},N={key:0,class:"p-4 font-light tracking-wide text-center"},S=e("a",{class:"text-blue-500 underline",href:"https://developer.mozilla.org/en-US/docs/Web/API/MIDIMessageEvent#browser_compatibility"},"not supported",-1),j={key:1},I={class:"flex flex-wrap"},D={class:"absolute bottom-16 right-2"},F=e("div",{class:"p-3 mb-0 font-semibold text-white uppercase bg-green-600 border-b border-solid rounded-t-lg opacity-75"}," MIDI Status ",-1),E={class:"p-3 font-mono text-orange-900"},z={class:"mb-2 font-bold"},V={class:"mb-2"},C=e("div",{class:"font-bold"},"Inputs:",-1),B={key:0,class:"p-4 italic text-center"},K={key:1},T={class:"flex-1"},P={class:"flex-1"},U={class:"mb-2"},G=e("div",{class:"font-bold"},"Outputs:",-1),L={key:0,class:"p-4 italic text-center"},q={key:1},H={class:"flex-1"},R={class:"flex-1"},W={class:"absolute bottom-2 right-2"},Y=e("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",class:"w-10 h-10"},[e("g",{fill:"none"},[e("path",{d:"M2.5 4a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h15a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5h-15zm.5 6h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v3.5a.5.5 0 0 0 1 0V10h2v5H3v-5zm2.75-2.5a.75.75 0 1 1 0-1.5a.75.75 0 0 1 0 1.5zm6.25-1a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm-3 .251a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0z",fill:"currentColor"})])],-1),J=[Y],Q={class:"absolute left-4 bottom-4"},X={class:"flex"},Z={class:"h-screen grid place-items-center"},$={class:"text-4xl font-semibold tracking-wide text-center"},ee={key:0};function te(f,a,i,m,n,t){return s(),r("div",k,[typeof n.midi>"u"?(s(),r("div",N,[l(" Unfortunately, the Web MIDI API is "),S,l(" in all browsers... ")])):(s(),r("div",j,[e("div",I,[e("div",D,[e("div",{class:v([{hidden:!n.tooltip,block:n.tooltip},"z-50 max-w-md text-sm font-normal leading-normal break-words bg-yellow-200 border-2 border-green-800 rounded-lg"])},[e("div",null,[F,e("div",E,[e("div",z,[l(" Enabled: "),e("span",null,d(typeof n.midi<"u"?"Yep!":"Nope"),1)]),e("div",V,[C,t.inputs.length===0?(s(),r("div",B," No input devices detected :( ")):(s(),r("div",K,[(s(!0),r(c,null,h(t.inputs,o=>(s(),r("div",{key:o.id,class:"flex"},[e("div",T,d(o.manufacturer),1),e("div",P,d(o.name),1)]))),128))]))]),e("div",U,[G,t.outputs.length===0?(s(),r("div",L," No output devices detected :( ")):(s(),r("div",q,[(s(!0),r(c,null,h(t.outputs,o=>(s(),r("div",{key:o.id,class:"flex"},[e("div",H,d(o.manufacturer),1),e("div",R,d(o.name),1)]))),128))]))])])])],2)]),e("div",W,[e("button",{onClick:a[0]||(a[0]=o=>n.tooltip=!n.tooltip),class:"px-1 text-green-600 border-green-600 rounded-lg shadow bg-green-50 border-3 hover:text-green-500 hover:shadow-lg",type:"button"},J)])]),e("div",Q,[e("div",X,[(s(!0),r(c,null,h(t.orderedNotes(),o=>(s(),r("div",{key:o,class:"p-4"},d(o),1))),128))])]),e("div",Z,[e("div",null,[e("div",$,[b(M,{"enter-active-class":"duration-500 ease-out","enter-class":"opacity-0 transform","enter-to-class":"opacity-100","leave-active-class":"duration-500","leave-class":"opacity-100","leave-to-class":"opacity-0 transform"},{default:y(()=>[n.activeKeys.size>=1?(s(),r("div",ee,d(t.chord()||"?"),1)):g("",!0)]),_:1})])])])]))])}const se=_(A,[["render",te]]);export{se as default};
