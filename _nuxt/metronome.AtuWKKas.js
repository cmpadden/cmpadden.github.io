import{x as f,l as x,c as y,b as e,h as m,t as c,a as n,A as b,B as v,o as q}from"./entry.DSjzn5x_.js";import{s as g}from"./interval.BF5pko4m.js";const h={class:"flex h-screen justify-center bg-white"},w={class:"space-y-2 p-2"},T={class:"flex justify-center border-2 border-gray-400 p-2"},A={class:"flex space-x-2"},V={class:"flex items-center"},k={class:"text-[72px] font-bold"},B=e("span",{class:"text-[16px]"},"bpm",-1),C={class:"flex items-center"},j={class:"border-2 border-gray-400 p-2"},S={class:"flex"},z={class:"flex-1 font-bold"},D={class:"bg-yellow-200 px-2"},H={class:"flex space-x-2"},I=["min","max","step"],$={__name:"metronome",setup(M){const t=f({frequency:440,frequency_min:20,frequency_max:1e3,frequency_steps:20,bpm:90});let s,r,o,d;const p=i=>i<=0?0:60/i*1e3,u=()=>{clearInterval(d),d=g(()=>{r.frequency.value=t.frequency,o.gain.setValueAtTime(0,s.currentTime),o.gain.linearRampToValueAtTime(1,s.currentTime+.05),o.gain.linearRampToValueAtTime(0,s.currentTime+.1)},p(t.bpm))},_=i=>{t.bpm+=i,u()};return x(()=>{s=new(window.AudioContext||window.webkitAudioContext),r=s.createOscillator(),o=s.createGain(),o.gain.value=0,o.connect(s.destination),r.connect(o),r.type="sine",r.frequency.value=t.frequency,r.start(),u()}),(i,a)=>(q(),y("main",h,[e("div",w,[e("div",T,[e("div",A,[e("div",V,[e("button",{class:"button rounded-full bg-gradient-to-r from-red-500 to-blue-500 px-2 text-white",onClick:a[0]||(a[0]=l=>_(-10))}," - ")]),e("div",k,[m(c(n(t).bpm.toString().padStart(3,"â€‚")),1),B]),e("div",C,[e("button",{class:"button rounded-full bg-gradient-to-r from-red-500 to-blue-500 px-2 text-white",onClick:a[1]||(a[1]=l=>_(10))}," + ")])])]),e("div",j,[e("div",S,[e("div",z,[m(" Frequency "),e("span",D,c(n(t).frequency),1)])]),e("div",H,[e("div",null,c(n(t).frequency_min)+"Hz",1),b(e("input",{type:"range","onUpdate:modelValue":a[2]||(a[2]=l=>n(t).frequency=l),min:n(t).frequency_min,max:n(t).frequency_max,step:n(t).frequency_steps,class:"accent-red-500"},null,8,I),[[v,n(t).frequency]]),e("div",null,c(n(t).frequency_max)+"Hz",1)])])])]))}};export{$ as default};
