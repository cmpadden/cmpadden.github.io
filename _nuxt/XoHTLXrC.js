import{q as w,s as h,m as n,r as D,v as _,c as x,o as I,t as B,x as T}from"./By8POjSh.js";const b=["datetime","title"],A={__name:"nuxt-time",props:{locale:{type:String,required:!1},datetime:{type:[String,Number,Date],required:!0},localeMatcher:{type:String,required:!1},weekday:{type:String,required:!1},era:{type:String,required:!1},year:{type:String,required:!1},month:{type:String,required:!1},day:{type:String,required:!1},hour:{type:String,required:!1},minute:{type:String,required:!1},second:{type:String,required:!1},timeZoneName:{type:String,required:!1},formatMatcher:{type:String,required:!1},hour12:{type:Boolean,required:!1,default:void 0},timeZone:{type:String,required:!1},calendar:{type:String,required:!1},dayPeriod:{type:String,required:!1},numberingSystem:{type:String,required:!1},dateStyle:{type:String,required:!1},timeStyle:{type:String,required:!1},hourCycle:{type:String,required:!1},relative:{type:Boolean,required:!1},title:{type:[Boolean,String],required:!1}},setup(p){var m;const t=p,a=(m=w())==null?void 0:m.vnode.el,u=a==null?void 0:a.getAttribute("datetime"),o=a==null?void 0:a.getAttribute("data-locale"),s=h(),l=n(()=>{const e=t.datetime;return u&&s.isHydrating?new Date(u):t.datetime?new Date(e):new Date}),d=D(s.isHydrating&&window._nuxtTimeNow?new Date(window._nuxtTimeNow):new Date);if(t.relative){const r=setInterval(()=>{d.value=new Date},1e3);_(()=>clearInterval(r))}const c=n(()=>{const{locale:e,relative:r,...i}=t;return r?new Intl.RelativeTimeFormat(o??e,i):new Intl.DateTimeFormat(o??e,i)}),y=n(()=>{if(t.relative){const e=(l.value.getTime()-d.value.getTime())/1e3,r=[{unit:"second",value:e},{unit:"minute",value:e/60},{unit:"hour",value:e/3600},{unit:"day",value:e/86400},{unit:"month",value:e/2592e3},{unit:"year",value:e/31536e3}],{unit:i,value:S}=r.find(({value:q})=>Math.abs(q)<60)||r[r.length-1];return c.value.format(Math.round(S),i)}return c.value.format(l.value)}),f=n(()=>l.value.toISOString()),g=n(()=>t.title===!0?f.value:typeof t.title=="string"?t.title:void 0),v={};return(e,r)=>(I(),x("time",T(v,{datetime:f.value,title:g.value}),B(y.value),17,b))}};export{A as _};
