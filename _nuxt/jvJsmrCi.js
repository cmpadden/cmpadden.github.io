import{p as m,r as g,b as w,J as b,K as k,c as C,o as _}from"./vpWdnTJt.js";const B=m({__name:"ModelPreview.global",props:{path:{},backgroundColor:{default:100}},setup(p){const u=p,r=g(null);let t=null;return w(async()=>{if(!r.value)return;const{$p5:o}=b(),d=await o(),a=r.value,f=e=>{let l,c=0,s=!0;const h=()=>({width:a.clientWidth||0,height:a.clientHeight||0});e.preload=()=>{l=e.loadModel(u.path,!0)},e.setup=()=>{const{width:n,height:i}=h();e.createCanvas(n,i,e.WEBGL)},e.windowResized=()=>{const{width:n,height:i}=h();e.resizeCanvas(n,i)},e.mouseClicked=()=>{s=!1},e.draw=()=>{const n=Number(u.backgroundColor??100);e.background(n),e.lights(),s&&(c=e.frameCount*.005),e.rotateX(c),e.rotateY(c),e.orbitControl(),l&&e.model(l)}};t=new d(f,a)}),k(()=>{var o;t&&((o=t.remove)==null||o.call(t),t=null)}),(o,d)=>(_(),C("div",{ref_key:"container",ref:r,class:"h-64"},null,512))}});export{B as _};
