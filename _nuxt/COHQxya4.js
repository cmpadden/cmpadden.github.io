import{_ as A}from"./D7mAQuRI.js";import{l as D,r as p,k as $,m as g,c as r,e as o,F as d,h as m,u as c,d as y,o as a,f as h,i as E,w as F,g as L,t as v,j as R,n as k}from"./BeIeZOO_.js";import{_ as j}from"./BWYrAZ0M.js";import{u as z}from"./C4686lLf.js";import{q as G}from"./MLtWAxGS.js";const H={class:"container mx-auto font-mono text-white"},I={class:"grid grid-cols-4 gap-4"},J={class:"col-span-4 lg:col-span-3"},K={class:"grid grid-cols-10 gap-y-4 lg:gap-y-6"},M={class:"col-span-10 lg:col-span-8"},O={class:"flex-col space-y-2"},P={class:"col-span-4 border-l border-gray-700 pl-4 lg:col-span-1"},Q={class:"my-2 space-y-2"},U=["onClick"],W={key:0,class:"my-2 space-y-2"},X=["onClick"],ne={__name:"index",async setup(Y){let i,f;const u=D(),n=p([]);u.query.category&&(n.value=[u.query.category]);const l=p([]);u.query.tag&&(l.value=[u.query.tag]);const C=p(!0),{data:_}=([i,f]=$(()=>z("articles",()=>G("content").order("date","DESC").all())),i=await i,f(),i),w=g(()=>[...new Set(_.value.map(e=>e.categories).flat().sort())]),b=g(()=>[...new Set(_.value.map(e=>e.tags).flat().sort())]),q=g(()=>_.value.filter(e=>!(n.value.length>0&&!n.value.every(s=>e.categories.includes(s))||l.value.length>0&&!l.value.every(s=>e.tags.includes(s)))));function N(e){l.value.includes(e)?l.value=l.value.filter(s=>s!==e):l.value.push(e)}function T(e){n.value.includes(e)?n.value=n.value.filter(s=>s!==e):n.value.push(e)}return(e,s)=>{const B=A,S=R,V=j;return a(),r("section",H,[o("div",I,[o("div",J,[o("div",K,[(a(!0),r(d,null,m(c(q),t=>(a(),r(d,{key:t._id},[h(B,{datetime:t.date,class:"col-span-10 lg:col-span-2",year:"numeric",month:"short",day:"2-digit"},null,8,["datetime"]),o("div",M,[o("div",O,[h(S,{class:"text-orange-500",to:t.path},{default:F(()=>[L(v(t.title),1)]),_:2},1032,["to"]),t.meta?.excerpt?(a(),E(V,{key:0,value:t.meta.excerpt,class:"line-clamp-5 text-xs text-gray-400"},null,8,["value"])):y("",!0)])])],64))),128))])]),o("div",P,[o("div",Q,[s[0]||(s[0]=o("p",{class:"text-xl font-bold"},"Categories",-1)),(a(!0),r(d,null,m(c(w),t=>(a(),r("div",{key:t,class:k([{"bg-orange-500 text-white":c(n).includes(t)},"cursor-pointer p-1 text-sm text-gray-400 hover:bg-orange-500 hover:text-white"]),onClick:x=>T(t)},v(t),11,U))),128))]),c(C)?(a(),r("div",W,[s[1]||(s[1]=o("p",{class:"text-xl font-bold"},"Tags",-1)),(a(!0),r(d,null,m(c(b),(t,x)=>(a(),r("div",{key:x,class:k([{"bg-orange-500 text-white":c(l).includes(t)},"cursor-pointer select-none p-1 text-sm text-gray-400 hover:bg-orange-500 hover:text-white"]),onClick:Z=>N(t)},v(t),11,X))),128))])):y("",!0)])])])}}};export{ne as default};
