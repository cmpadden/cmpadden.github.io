import{_ as x,c as o,b as t,F as d,r as _,o as l,f as g,g as p,h as f,t as a,n as u,i as v}from"./DXsCzSxj.js";import{_ as k}from"./DnPT5WRD.js";import y from"./D_k-9tiD.js";import{q as C}from"./CAzXSrXZ.js";import"./C-v3KzvZ.js";import"./BDqtaPAc.js";import"./DvDH6DOc.js";const w={async setup(){return{articles:await C().only(["_id","_path","title","description","date","img","author","tags","categories","img","excerpt","summary"]).sort({date:-1}).find()}},data(){return{selected_tags:[],selected_categories:[]}},computed:{categories(){return[...new Set(this.articles.map(s=>s.categories).flat().sort())]},tags(){return[...new Set(this.articles.map(s=>s.tags).flat().sort())]},visible_articles(){return this.articles.filter(s=>!(this.selected_categories.length>0&&!this.selected_categories.every(c=>s.categories.includes(c))||this.selected_tags.length>0&&!this.selected_tags.every(c=>s.tags.includes(c))))}},methods:{toggle_tag(s){this.selected_tags.includes(s)?this.selected_tags=this.selected_tags.filter(c=>c!==s):this.selected_tags.push(s)},toggle_category(s){this.selected_categories.includes(s)?this.selected_categories=this.selected_categories.filter(c=>c!==s):this.selected_categories.push(s)}}},N={class:"container mx-auto"},B={class:"grid grid-cols-4 gap-4"},S={class:"col-span-4 lg:col-span-3"},V={class:"rounded-xl bg-black/50 text-white shadow-xl"},q={class:"relative mb-2 h-full"},F={class:"px-4 py-2"},L={class:"mb-2 text-xl font-bold"},R={class:"flex items-center text-sm"},T={class:"mb-3 px-4 pb-12"},j={class:"prose-sm"},z={class:"absolute bottom-0 right-0 mb-4"},D={class:"tag"},E={class:"col-span-4 inline-block lg:col-span-1"},M={class:"mb-3 rounded-xl bg-black/50 text-white"},A=t("p",{class:"mb-0 px-3 py-2 text-xl font-bold"},"Categories",-1),G=["onClick"],H={class:"mb-3 rounded-xl bg-black/50 text-white"},I=t("p",{class:"mb-0 px-3 py-2 text-xl font-bold"},"Tags",-1),J={class:"p-2"},K=["onClick"];function O(s,c,P,Q,r,i){const h=v,m=k,b=y;return l(),o("section",N,[t("div",B,[t("div",S,[(l(!0),o(d,null,_(i.visible_articles,e=>(l(),o("div",{key:e._id},[t("div",V,[t("div",q,[t("div",F,[t("div",L,[g(h,{class:"border-b-2 border-orange-500 hover:text-orange-500",to:e._path},{default:p(()=>[f(a(e.title),1)]),_:2},1032,["to"])]),t("p",R,a(e.date),1)]),t("div",T,[t("p",j,[g(b,{class:"prose prose-sm mx-auto sm:prose lg:prose-lg xl:prose-2xl",value:e},{default:p(()=>[g(m,{value:{body:e.excerpt}},null,8,["value"])]),_:2},1032,["value"])])]),t("div",z,[(l(!0),o(d,null,_(e.tags,n=>(l(),o("span",{key:n,class:u([{"bg-green-600":r.selected_tags.includes(n)},"mr-2 inline-block select-none bg-black px-3 py-1 text-sm text-orange-200"])},[t("div",D,a(n),1)],2))),128))])])])]))),128))]),t("div",E,[t("div",M,[A,(l(!0),o(d,null,_(i.categories,e=>(l(),o("a",{key:e,class:u([{"bg-green-600":r.selected_categories.includes(e),"hover:bg-red-600":r.selected_categories.includes(e)},"block cursor-pointer select-none border-t border-black px-4 py-1 text-orange-200 hover:bg-black"]),onClick:n=>i.toggle_category(e)},a(e),11,G))),128))]),t("div",H,[I,t("div",J,[(l(!0),o(d,null,_(i.tags,(e,n)=>(l(),o("span",{key:n,class:u([{"bg-green-600":r.selected_tags.includes(e),"hover:bg-red-600":r.selected_tags.includes(e)},"mb-2 mr-2 inline-flex h-8 cursor-pointer select-none content-center justify-center bg-black px-3 py-2 text-sm leading-4 text-orange-200"]),onClick:U=>i.toggle_tag(e)},[t("div",null,a(e),1)],10,K))),128))])])])])])}const se=x(w,[["render",O]]);export{se as default};
