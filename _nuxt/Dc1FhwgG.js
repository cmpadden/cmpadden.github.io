import{_,c as l,e as s,g as y,d as x,n as p,F as b,h,o as n,t as f}from"./DJAsJ5LD.js";const v={data(){return{ix:0,a:[],b:[],timeline:[]}},computed:{step(){return this.timeline.length>0?this.timeline[this.ix]:{}},done(){return this.timeline.length-1===this.ix},started(){return this.timeline.length>0}},mounted(){this.generateRandomMatrices()},created(){typeof window>"u"||window.addEventListener("keydown",o=>{o.key===" "?this.incStep():o.key==="Escape"&&(this.ix=0)})},methods:{randomMatrix(o,t){const c=[];for(let m=0;m<o;m++)c.push(Array(t).fill().map(()=>Math.round(Math.random()*10)));return c},generateRandomMatrices(){this.a=this.randomMatrix(3,4),this.b=this.randomMatrix(4,3),this.timeline=[],this.ix=0},matmul(o,t){this.timeline=[];const c=[];for(let i=0;i<o.length;i++)c.push(Array(t[i].length).fill(0));const m=Array(o.length*t[0].length);o.forEach((i,e)=>{t[e].forEach((a,r)=>{const g=[];o[e].forEach((d,u)=>{g.push(`${o[r][u]}*${t[u][e]}`),c[r][e]+=o[r][u]*t[u][e],m[e*o.length+r]=`${g.join(" + ")} = ${c[r][e]}`;const w=JSON.parse(JSON.stringify(c));this.timeline.push({row_a:r,col_a:u,row_b:u,col_b:e,row_c:r,col_c:e,cur_a:o[r][u],cur_b:t[u][e],cur_c:c[r][e],c:w,all_steps:m.slice()})})})})},incStep(){this.ix!==this.timeline.length-1&&(this.ix+=1)},decStep(){this.ix>0&&(this.ix-=1)}}},k={class:"m-4 space-y-4"},M={class:"m-2 inline-flex space-x-2"},S=["disabled"],C=["disabled"],B={class:"flex flex-wrap"},E={class:"w-34 m-2 border border-gray-400 sm:w-min"},A={class:"flex items-center justify-center p-4"},N={class:"text-center"},R={class:"w-34 m-2 border border-gray-400 sm:w-min"},V={class:"flex items-center justify-center p-4"},D={class:"text-center"},F={class:"flex items-center justify-center p-4"},J={class:"text-center"},L={key:1,class:"m-2 w-72 border border-gray-400 bg-gray-100 p-2"},O={class:"font-mono"},z={key:0,class:"italic text-green-600"};function P(o,t,c,m,i,e){return n(),l("div",k,[t[10]||(t[10]=s("div",{class:"m-2 w-4/5"},[y(" Walk through the steps of matrix multiplication with randomly generated matrices. Press the "),s("em",null,"Spacebar"),y(" or click the "),s("em",{class:"bg-blue-200 text-blue-800"},"buttons"),y(" to iterate through the steps. ")],-1)),s("div",M,[s("button",{class:p(["bg-blue-200 px-4 py-2 font-bold text-blue-800 hover:bg-blue-800 hover:text-blue-200",{"cursor-not-allowed opacity-25":!e.started}]),disabled:!e.started,onClick:t[0]||(t[0]=(...a)=>e.decStep&&e.decStep(...a))},t[4]||(t[4]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})],-1)]),10,S),e.done?x("",!0):(n(),l("button",{key:0,class:"bg-blue-200 px-4 py-2 font-bold text-blue-800 hover:bg-blue-800 hover:text-blue-200",onClick:t[1]||(t[1]=a=>e.matmul(i.a,i.b))}," Start ")),e.done?(n(),l("button",{key:1,class:"bg-orange-200 px-4 py-2 font-bold text-orange-800 hover:bg-blue-800 hover:text-blue-200",onClick:t[2]||(t[2]=(...a)=>e.generateRandomMatrices&&e.generateRandomMatrices(...a))}," Again! ")):x("",!0),s("button",{class:p(["bg-blue-200 px-4 py-2 font-bold text-blue-800 hover:bg-blue-800 hover:text-blue-200",{"cursor-not-allowed opacity-25":!e.started}]),disabled:!e.started,onClick:t[3]||(t[3]=(...a)=>e.incStep&&e.incStep(...a))},t[5]||(t[5]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})],-1)]),10,C)]),s("div",B,[s("div",E,[t[6]||(t[6]=s("div",{class:"bg-gray-200 p-4 text-center font-bold"},"Matrix A",-1)),s("div",A,[s("table",N,[(n(!0),l(b,null,h(i.a,(a,r)=>(n(),l("tr",{key:r},[(n(!0),l(b,null,h(i.a[r],(g,d)=>(n(),l("td",{key:d,class:p([{"text-green-600":e.step&&r==e.step.row_a&&d==e.step.col_a,"bg-orange-100":e.step&&r==e.step.row_a},"p-2"])},f(i.a[r][d]),3))),128))]))),128))])])]),s("div",R,[t[7]||(t[7]=s("div",{class:"bg-gray-200 p-4 text-center font-bold"},"Matrix B",-1)),s("div",V,[s("table",D,[(n(!0),l(b,null,h(i.b,(a,r)=>(n(),l("tr",{key:r},[(n(!0),l(b,null,h(i.b[r],(g,d)=>(n(),l("td",{key:d,class:p([{"text-green-600":e.step&&r==e.step.row_b&&d==e.step.col_b,"bg-orange-100":e.step&&d==e.step.col_b},"p-2"])},f(i.b[r][d]),3))),128))]))),128))])])]),e.started?(n(),l("div",{key:0,class:p(["m-2 w-72 border border-gray-400 sm:w-min",{"bg-green-200":e.done}])},[t[8]||(t[8]=s("div",{class:"bg-gray-200 p-4 text-center font-bold"},"Result",-1)),s("div",F,[s("table",J,[(n(!0),l(b,null,h(e.step.c,(a,r)=>(n(),l("tr",{key:r},[(n(!0),l(b,null,h(e.step.c[r],(g,d)=>(n(),l("td",{key:d,class:"p-2"},f(e.step.c[r][d]),1))),128))]))),128))])])],2)):x("",!0),e.started?(n(),l("div",L,[t[9]||(t[9]=s("div",{class:"text-center font-bold"},"Steps",-1)),s("div",O,[(n(!0),l(b,null,h(e.step.all_steps,(a,r)=>(n(),l("div",{key:r},f(a),1))),128)),e.done?(n(),l("div",z,"Done!")):x("",!0)])])):x("",!0)])])}const W=_(v,[["render",P]]);export{W as default};
