import{_ as x,o as l,c as o,d as s,Q as d,R as _,a as g,w as u,e as f,P as a,S as p,f as v}from"./entry.98871668.js";import y from"./ContentRendererMarkdown.77d534d8.js";import k from"./ContentRenderer.aaff70ea.js";import{q as C}from"./query.987d4ff8.js";import"./index.1dec55d2.js";import"./index.65a31f1c.js";import"./utils.ffec51f9.js";const w={async setup(){return{articles:await C().only(["_id","_path","title","description","date","img","author","tags","categories","img","excerpt","summary"]).sort({date:-1}).limit(5).find()}},data(){return{selected_tags:[],selected_categories:[]}},computed:{categories(){return[...new Set(this.articles.map(t=>t.categories).flat().sort())]},tags(){return[...new Set(this.articles.map(t=>t.tags).flat().sort())]},visible_articles(){return this.articles.filter(t=>!(this.selected_categories.length>0&&!this.selected_categories.every(r=>t.categories.includes(r))||this.selected_tags.length>0&&!this.selected_tags.every(r=>t.tags.includes(r))))}},methods:{toggle_tag(t){this.selected_tags.includes(t)?this.selected_tags=this.selected_tags.filter(r=>r!==t):this.selected_tags.push(t)},toggle_category(t){this.selected_categories.includes(t)?this.selected_categories=this.selected_categories.filter(r=>r!==t):this.selected_categories.push(t)}}},N={class:"mx-6 md:mx-12"},S={class:"grid grid-cols-4 gap-4"},B={class:"col-span-4 lg:col-span-3"},R={class:"shadow-lg bg-gray-300 h-full relative mb-2"},V={class:"px-4 py-2"},q={class:"font-bold text-xl"},L={class:"text-sm text-gray-600 flex items-center"},T={class:"px-4 pt-2 pb-12 mb-3 bg-gray-100"},j={class:"text-gray-700 prose-sm"},z={class:"mb-6 absolute bottom-0 right-0"},D={class:"tag"},E={class:"col-span-4 lg:col-span-1 inline-block"},F={class:"panel mb-3 bg-white"},M=s("p",{class:"font-bold text-xl bg-gray-300 py-2 px-3 mb-0"},"Categories",-1),P=["onClick"],Q={class:"panel mb-3"},A=s("p",{class:"font-bold text-xl bg-gray-300 py-2 px-3 mb-0"},"Tags",-1),G={class:"panel-block bg-gray-100 border p-2"},H=["onClick"];function I(t,r,J,K,i,c){const h=v,m=y,b=k;return l(),o("section",N,[s("div",S,[s("div",B,[(l(!0),o(d,null,_(c.visible_articles,e=>(l(),o("div",{key:e._id},[s("div",null,[s("div",R,[s("div",V,[s("div",q,[g(h,{class:"gradient-underline",to:e._path},{default:u(()=>[f(a(e.title),1)]),_:2},1032,["to"])]),s("p",L,a(e.date),1)]),s("div",T,[s("p",j,[g(b,{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto",value:e},{default:u(()=>[g(m,{value:{body:e.excerpt}},null,8,["value"])]),_:2},1032,["value"])])]),s("div",z,[(l(!0),o(d,null,_(e.tags,n=>(l(),o("span",{key:n,class:p([{"bg-green-100":i.selected_tags.includes(n)},"inline-block bg-gray-200 px-3 py-1 mr-2 text-sm text-blue-500 mr-2 select-none"])},[s("div",D,a(n),1)],2))),128))])])])]))),128))]),s("div",E,[s("div",F,[M,(l(!0),o(d,null,_(c.categories,e=>(l(),o("a",{key:e,class:p([{"bg-green-100":i.selected_categories.includes(e),"hover:bg-red-100":i.selected_categories.includes(e)},"block border-t py-1 px-4 hover:bg-purple-200 text-blue-500 cursor-pointer select-none"]),onClick:n=>c.toggle_category(e)},a(e),11,P))),128))]),s("div",Q,[A,s("div",G,[(l(!0),o(d,null,_(c.tags,(e,n)=>(l(),o("span",{key:n,class:p([{"bg-green-100":i.selected_tags.includes(e),"hover:bg-red-100":i.selected_tags.includes(e)},"inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-200 justify-center h-8 px-3 text-sm text-blue-500 hover:bg-purple-200 cursor-pointer select-none"]),onClick:O=>c.toggle_tag(e)},[s("div",null,a(e),1)],10,H))),128))])])])])])}const se=x(w,[["render",I]]);export{se as default};
