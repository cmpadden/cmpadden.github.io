import{_ as x,o as l,c as o,d as t,Q as d,R as _,a as g,w as u,e as f,P as a,S as p,f as v}from"./entry.0c5395c9.js";import y from"./ContentRendererMarkdown.6da6a4fa.js";import k from"./ContentRenderer.c0ec45e5.js";import{q as C}from"./query.78e651b6.js";import"./index.1dec55d2.js";import"./preview.c38eb76c.js";import"./index.48c103b6.js";import"./utils.c9d2c3cd.js";const w={async setup(){return{articles:await C().only(["_id","_path","title","description","date","img","author","tags","categories","img","excerpt","summary"]).sort({date:-1}).limit(5).find()}},data(){return{selected_tags:[],selected_categories:[]}},computed:{categories(){return[...new Set(this.articles.map(s=>s.categories).flat().sort())]},tags(){return[...new Set(this.articles.map(s=>s.tags).flat().sort())]},visible_articles(){return this.articles.filter(s=>!(this.selected_categories.length>0&&!this.selected_categories.every(r=>s.categories.includes(r))||this.selected_tags.length>0&&!this.selected_tags.every(r=>s.tags.includes(r))))}},methods:{toggle_tag(s){this.selected_tags.includes(s)?this.selected_tags=this.selected_tags.filter(r=>r!==s):this.selected_tags.push(s)},toggle_category(s){this.selected_categories.includes(s)?this.selected_categories=this.selected_categories.filter(r=>r!==s):this.selected_categories.push(s)}}},N={class:"mx-6 md:mx-12"},S={class:"grid grid-cols-4 gap-4"},B={class:"col-span-4 lg:col-span-3"},R={class:"shadow-lg bg-gray-300 h-full relative mb-2"},V={class:"px-4 py-2"},q={class:"font-bold text-xl"},L={class:"text-sm text-gray-600 flex items-center"},T={class:"px-4 pt-2 pb-12 mb-3 bg-gray-100"},j={class:"text-gray-700 prose-sm"},z={class:"mb-6 absolute bottom-0 right-0"},D={class:"tag"},E={class:"col-span-4 lg:col-span-1 inline-block"},F={class:"panel mb-3 bg-white"},M=t("p",{class:"font-bold text-xl bg-gray-300 py-2 px-3 mb-0"},"Categories",-1),P=["onClick"],Q={class:"panel mb-3"},A=t("p",{class:"font-bold text-xl bg-gray-300 py-2 px-3 mb-0"},"Tags",-1),G={class:"panel-block bg-gray-100 border p-2"},H=["onClick"];function I(s,r,J,K,n,c){const m=v,h=y,b=k;return l(),o("section",N,[t("div",S,[t("div",B,[(l(!0),o(d,null,_(c.visible_articles,e=>(l(),o("div",{key:e._id},[t("div",null,[t("div",R,[t("div",V,[t("div",q,[g(m,{class:"gradient-underline",to:e._path},{default:u(()=>[f(a(e.title),1)]),_:2},1032,["to"])]),t("p",L,a(e.date),1)]),t("div",T,[t("p",j,[g(b,{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto",value:e},{default:u(()=>[g(h,{value:{body:e.excerpt}},null,8,["value"])]),_:2},1032,["value"])])]),t("div",z,[(l(!0),o(d,null,_(e.tags,i=>(l(),o("span",{key:i,class:p([{"bg-green-100":n.selected_tags.includes(i)},"inline-block bg-gray-200 px-3 py-1 mr-2 text-sm text-blue-500 mr-2 select-none"])},[t("div",D,a(i),1)],2))),128))])])])]))),128))]),t("div",E,[t("div",F,[M,(l(!0),o(d,null,_(c.categories,e=>(l(),o("a",{key:e,class:p([{"bg-green-100":n.selected_categories.includes(e),"hover:bg-red-100":n.selected_categories.includes(e)},"block border-t py-1 px-4 hover:bg-purple-200 text-blue-500 cursor-pointer select-none"]),onClick:i=>c.toggle_category(e)},a(e),11,P))),128))]),t("div",Q,[A,t("div",G,[(l(!0),o(d,null,_(c.tags,(e,i)=>(l(),o("span",{key:i,class:p([{"bg-green-100":n.selected_tags.includes(e),"hover:bg-red-100":n.selected_tags.includes(e)},"inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-gray-200 justify-center h-8 px-3 text-sm text-blue-500 hover:bg-purple-200 cursor-pointer select-none"]),onClick:O=>c.toggle_tag(e)},[t("div",null,a(e),1)],10,H))),128))])])])])])}const se=x(w,[["render",I]]);export{se as default};
