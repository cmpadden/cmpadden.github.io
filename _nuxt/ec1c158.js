(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{308:function(t,e,n){"use strict";n.r(e);n(260),n(263),n(13),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287);var r={name:"Waveform",props:{canvasWidth:{type:Number,default:750},canvasHeight:{type:Number,default:500},fillStyle:{type:String,default:"rgba(0,0,0)"},strokeStyle:{type:String,default:"rgb(255, 255, 255)"}},mounted:function(){var t=this;navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){t.audioCtx=new(window.AudioContext||window.webkitAudioContext),t.analyser=t.audioCtx.createAnalyser(),t.source=t.audioCtx.createMediaStreamSource(e),t.source.connect(t.analyser),t.analyser.fftSize=2048,t.bufferLength=t.analyser.frequencyBinCount,t.dataArray=new Uint8Array(t.bufferLength),t.canvas=document.getElementById(t._uid),t.canvasCtx=t.canvas.getContext("2d"),t.canvasCtx.clearRect(0,0,t.canvasWidth,t.canvasHeight),t.draw()})).catch((function(t){console.error(t)}))},methods:{draw:function(){requestAnimationFrame(this.draw),this.analyser.getByteTimeDomainData(this.dataArray),this.canvasCtx.fillStyle=this.fillStyle,this.canvasCtx.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.canvasCtx.lineWidth=2,this.canvasCtx.strokeStyle=this.strokeStyle,this.canvasCtx.beginPath();for(var t=1*this.canvasWidth/this.bufferLength,e=0,i=0;i<this.bufferLength;i++){var n=this.dataArray[i]/128*this.canvasHeight/2;0===i?this.canvasCtx.moveTo(e,n):this.canvasCtx.lineTo(e,n),e+=t}this.canvasCtx.lineTo(this.canvas.width,this.canvas.height/2),this.canvasCtx.stroke()}}},c=n(17),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("canvas",{attrs:{id:t._uid,width:t.canvasWidth,height:t.canvasHeight}})])}),[],!1,null,null,null);e.default=component.exports}}]);