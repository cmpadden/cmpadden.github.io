import{p as m,r as g,b as _,J as w,K as b,c as k,o as v}from"./Cor2CLTU.js";const C=m({__name:"ModelPreview.global",props:{path:{},backgroundColor:{default:100}},setup(h){const i=h,n=g(null);let o=null;return _(async()=>{if(!n.value)return;const{$p5:u}=w(),s=await u(),a=n.value,f=e=>{let r,l=0,d=!0;const p=()=>({width:a.clientWidth||0,height:a.clientHeight||0});e.preload=()=>{r=e.loadModel(i.path,!0)},e.setup=()=>{const{width:t,height:c}=p();e.createCanvas(t,c,e.WEBGL)},e.windowResized=()=>{const{width:t,height:c}=p();e.resizeCanvas(t,c)},e.mouseClicked=()=>{d=!1},e.draw=()=>{const t=Number(i.backgroundColor??100);e.background(t),e.lights(),d&&(l=e.frameCount*.005),e.rotateX(l),e.rotateY(l),e.orbitControl(),r&&e.model(r)}};o=new s(f,a)}),b(()=>{o&&(o.remove?.(),o=null)}),(u,s)=>(v(),k("div",{ref_key:"container",ref:n,class:"h-64"},null,512))}}),B=Object.assign(C,{__name:"ModelPreview"});export{B as default};
