import{_ as x,o,c as l,b as t,F as d,$ as _,a as g,w as p,e as f,Z as a,n as u,f as v}from"./entry.f580fc49.js";import k from"./ContentRendererMarkdown.6033c9df.js";import y from"./ContentRenderer.9609342c.js";import{q as w}from"./query.0f472838.js";import"./index.1dec55d2.js";import"./preview.0f734221.js";import"./index.48c103b6.js";import"./utils.0f988191.js";const C={async setup(){return{articles:await w().only(["_id","_path","title","description","date","img","author","tags","categories","img","excerpt","summary"]).sort({date:-1}).limit(5).find()}},data(){return{selected_tags:[],selected_categories:[]}},computed:{categories(){return[...new Set(this.articles.map(s=>s.categories).flat().sort())]},tags(){return[...new Set(this.articles.map(s=>s.tags).flat().sort())]},visible_articles(){return this.articles.filter(s=>!(this.selected_categories.length>0&&!this.selected_categories.every(c=>s.categories.includes(c))||this.selected_tags.length>0&&!this.selected_tags.every(c=>s.tags.includes(c))))}},methods:{toggle_tag(s){this.selected_tags.includes(s)?this.selected_tags=this.selected_tags.filter(c=>c!==s):this.selected_tags.push(s)},toggle_category(s){this.selected_categories.includes(s)?this.selected_categories=this.selected_categories.filter(c=>c!==s):this.selected_categories.push(s)}}},N={class:"container mx-auto"},B={class:"grid grid-cols-4 gap-4"},S={class:"col-span-4 lg:col-span-3"},V={class:"bg-black/50 text-white rounded-xl shadow-xl"},q={class:"h-full relative mb-2"},F={class:"px-4 py-2"},L={class:"font-bold text-xl mb-2"},R={class:"text-sm flex items-center"},T={class:"px-4 pb-12 mb-3"},j={class:"prose-sm"},z={class:"mb-4 absolute bottom-0 right-0"},D={class:"tag"},E={class:"col-span-4 lg:col-span-1 inline-block"},M={class:"mb-3 bg-black/50 text-white rounded-xl"},Z=t("p",{class:"font-bold text-xl py-2 px-3 mb-0"},"Categories",-1),A=["onClick"],G={class:"mb-3 bg-black/50 text-white rounded-xl"},H=t("p",{class:"font-bold text-xl py-2 px-3 mb-0"},"Tags",-1),I={class:"p-2"},J=["onClick"];function K(s,c,O,P,i,r){const h=v,m=k,b=y;return o(),l("section",N,[t("div",B,[t("div",S,[(o(!0),l(d,null,_(r.visible_articles,e=>(o(),l("div",{key:e._id},[t("div",V,[t("div",q,[t("div",F,[t("div",L,[g(h,{class:"gradient-underline",to:e._path},{default:p(()=>[f(a(e.title),1)]),_:2},1032,["to"])]),t("p",R,a(e.date),1)]),t("div",T,[t("p",j,[g(b,{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl mx-auto",value:e},{default:p(()=>[g(m,{value:{body:e.excerpt}},null,8,["value"])]),_:2},1032,["value"])])]),t("div",z,[(o(!0),l(d,null,_(e.tags,n=>(o(),l("span",{key:n,class:u([{"bg-green-600":i.selected_tags.includes(n)},"inline-block bg-black px-3 py-1 text-sm text-cyan mr-2 select-none"])},[t("div",D,a(n),1)],2))),128))])])])]))),128))]),t("div",E,[t("div",M,[Z,(o(!0),l(d,null,_(r.categories,e=>(o(),l("a",{key:e,class:u([{"bg-green-600":i.selected_categories.includes(e),"hover:bg-red-600":i.selected_categories.includes(e)},"block border-t border-black py-1 px-4 hover:bg-black text-cyan cursor-pointer select-none"]),onClick:n=>r.toggle_category(e)},a(e),11,A))),128))]),t("div",G,[H,t("div",I,[(o(!0),l(d,null,_(r.tags,(e,n)=>(o(),l("span",{key:n,class:u([{"bg-green-600":i.selected_tags.includes(e),"hover:bg-red-600":i.selected_tags.includes(e)},"inline-flex py-2 leading-4 mr-2 mb-2 content-center bg-black justify-center h-8 px-3 text-sm text-cyan cursor-pointer select-none"]),onClick:Q=>r.toggle_tag(e)},[t("div",null,a(e),1)],10,J))),128))])])])])])}const oe=x(C,[["render",K]]);export{oe as default};
