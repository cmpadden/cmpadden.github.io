<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"><link rel="modulepreload" href="/articles/reset-ipmi-password-from-host-os/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.fc587c95.js"><link rel="preload" as="style" href="/_nuxt/entry.a907f34f.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.510d78ee.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.8f607ac9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/menu.7d07322a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.b75cc603.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...slug_.2971a68e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.bc09c86a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.1dec55d2.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/preview.b52253a1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.1d8be4d9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.f899ac5a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.0d86bc48.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.48c103b6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/utils.d345367b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.1442f1e2.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.8be56153.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.7d46ff24.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.e6123d0b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.3840765b.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ContentDoc.842a9704.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ContentQuery.48c9fa53.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/light.297246b9.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.38a7c521.js"><link rel="stylesheet" href="/_nuxt/entry.a907f34f.css"><style>pre code .line{display:block;min-height:1rem}</style></head>
<body ><div id="__nuxt"><body><!--[--><main class="flex flex-col min-h-screen bg-grayish font-display"><nav class="container mx-auto bg-grayish pt-6"><div class="flex justify-between text-gray-200 font-semibold"><a href="/" class="mr-2 text-white hover:text-blue-200"><div class="flex justify-center items-center"><img src="https://avatars.githubusercontent.com/u/5807118?v=4" alt="Selfie" class="shadow-lg ring-2 ring-blue-400 hover:ring-green-400 max-h-12 rounded-full"></div></a><div><div data-headlessui-state class="relative inline-block text-left z-50"><div><button id="headlessui-menu-button-17" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state class="inline-flex w-full justify-center rounded-md bg-black bg-opacity-30 p-2 text-sm font-medium text-white hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="h-5 w-5 text-white hover:text-blue-400"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"></path></svg></button></div><!----></div></div></div></nav><main class="flex-1 mt-4"><!--[--><!--[--><div class="container mx-auto px-2"><div class="mx-6 md:mx-12"><article class="shadow-lg bg-gray-200 mb-10 p-10"><h1 class="font-bold text-3xl text-gray-700">Reset IPMI Credentials from the Host OS</h1><p class="text-sm text-gray-600 flex items-center mb-4">2021-12-27</p><article class="prose max-w-none"><!--[--><div><p><!--[-->If you ever find yourself locked out of the Intelligent Platform Management Interface (IPMI) of a server, these
instructions will guide your through the process of resetting the credentials to their default values from the host
operating system.<!--]--></p><p><!--[-->If you are using an operating system like TrueNAS -- good news! It&#39;s possible to reset the IPMI password directly from
the web interface. This is done by navigating to <code><!--[-->Network &gt; IPMI<!--]--></code>, and simply entering a new value in the <em><!--[-->IPMI
Password Reset<!--]--></em> field.<!--]--></p><p><!--[-->If you are using some other OS that doesn&#39;t have this feature, you can achieve similar results by using the <code><!--[-->ipmitool<!--]--></code>
command-line utility.<!--]--></p><p><!--[-->First, you&#39;ll want to determine the user ID associated with the user for whom you&#39;d like to reset the password.<!--]--></p><!--[--><pre><code># ipmitool user list
ID  Name             Callin  Link Auth  IPMI Msg   Channel Priv Limit
1                    true    false      false      Unknown (0x00)
2   ADMIN            true    false      false      Unknown (0x00)
</code></pre><!--]--><p><!--[-->In this case, we will be resetting the password for <em><!--[-->ADMIN<!--]--></em> who has a user ID of <em><!--[-->2<!--]--></em>. Then we&#39;ll assign the new
password like so:<!--]--></p><!--[--><pre><code># ipmitool user set password 2 &lt;password&gt;
</code></pre><!--]--><p><!--[-->And you should be good to go!<!--]--></p><p><!--[-->...<!--]--></p><p><!--[-->Alternatively, if you&#39;d like to factory reset the baseboard management controller (BMC), which will reset the IPMI
credentials to their default value, you can issue the following command.<!--]--></p><!--[--><pre><code># ipmitool raw 0x3c 0x40
</code></pre><!--]--><p><!--[-->Where <code><!--[-->0x3c<!--]--></code> is the <code><!--[-->&lt;netfn&gt;<!--]--></code> argument, a.k.a. the network function code that defines the functional routing for
messages, and <code><!--[-->0x40<!--]--></code> is the <code><!--[-->&lt;cmd&gt;<!--]--></code>. According to section 5.1 of the <a href="https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ipmi-second-gen-interface-spec-v2-rev1-1.pdf" rel="nofollow"><!--[-->IPMI interface
specification<!--]--></a>,
<em><!--[-->netfn<!--]--></em> codes ranging from 0x30 to 0x3F are reserved for vendor specific functions. I searched around for some
Supermicro references on these vendor specific network functions without much luck other than various <a href="https://www.supermicro.com/support/faqs/faq.cfm?faq=15448" rel="nofollow"><!--[-->support
responses<!--]--></a> on how to reset a device. Bummer!<!--]--></p></div><!--]--></article></article></div></div><!--]--><!--]--></main><footer class="w-full p-4 text-xs text-center text-white pin-b"><div>Â© Colton Padden</div><div class=""> Made with <a href="https://nuxtjs.org/" class="underline hover:text-blue-400">NuxtJS</a> &amp; <a href="https://tailwindcss.com/" class="underline hover:text-blue-400">tailwindcss</a></div></footer></main><!--]--></body></div><script type="module">import p from "/articles/reset-ipmi-password-from-host-os/_payload.js";window.__NUXT__={...p,...((function(a,b){return {state:{},_errors:{},serverRendered:true,config:{public:{content:{locales:[],integrity:1685633471683,experimental:{stripQueryParameters:a,clientDB:a,advancedIgnoresPattern:a},api:{baseURL:"\u002Fapi\u002F_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:a,wsUrl:b,documentDriven:a,host:b,trailingSlash:a,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:b}},prerenderedAt:1685633494350}}(false,"")))}</script><script type="module" src="/_nuxt/entry.fc587c95.js" crossorigin></script></body>
</html>