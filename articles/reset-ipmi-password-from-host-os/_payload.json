[{"data":1,"prerenderedAt":196},["Reactive",2],{"page-data":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"tags":11,"categories":15,"excerpt":16,"body":26,"_type":191,"_id":192,"_source":193,"_file":194,"_extension":195},"/articles/reset-ipmi-password-from-host-os","articles",false,"","Reset IPMI Credentials from the Host OS","If you ever find yourself locked out of the Intelligent Platform Management Interface (IPMI) of a server, these\ninstructions will guide your through the process of resetting the credentials to their default values from the host\noperating system.","2021-12-27",[12,13,14],"homelab","supermicro","truenas",[12],{"type":17,"children":18},"root",[19],{"type":20,"tag":21,"props":22,"children":23},"element","p",{},[24],{"type":25,"value":9},"text",{"type":17,"children":27,"toc":188},[28,32,53,65,70,79,98,106,111,116,121,129],{"type":20,"tag":21,"props":29,"children":30},{},[31],{"type":25,"value":9},{"type":20,"tag":21,"props":33,"children":34},{},[35,37,43,45,51],{"type":25,"value":36},"If you are using an operating system like TrueNAS -- good news! It's possible to reset the IPMI password directly from\nthe web interface. This is done by navigating to ",{"type":20,"tag":38,"props":39,"children":40},"code",{},[41],{"type":25,"value":42},"Network > IPMI",{"type":25,"value":44},", and simply entering a new value in the ",{"type":20,"tag":46,"props":47,"children":48},"em",{},[49],{"type":25,"value":50},"IPMI\nPassword Reset",{"type":25,"value":52}," field.",{"type":20,"tag":21,"props":54,"children":55},{},[56,58,63],{"type":25,"value":57},"If you are using some other OS that doesn't have this feature, you can achieve similar results by using the ",{"type":20,"tag":38,"props":59,"children":60},{},[61],{"type":25,"value":62},"ipmitool",{"type":25,"value":64},"\ncommand-line utility.",{"type":20,"tag":21,"props":66,"children":67},{},[68],{"type":25,"value":69},"First, you'll want to determine the user ID associated with the user for whom you'd like to reset the password.",{"type":20,"tag":71,"props":72,"children":74},"pre",{"code":73},"# ipmitool user list\nID  Name             Callin  Link Auth  IPMI Msg   Channel Priv Limit\n1                    true    false      false      Unknown (0x00)\n2   ADMIN            true    false      false      Unknown (0x00)\n",[75],{"type":20,"tag":38,"props":76,"children":77},{"__ignoreMap":7},[78],{"type":25,"value":73},{"type":20,"tag":21,"props":80,"children":81},{},[82,84,89,91,96],{"type":25,"value":83},"In this case, we will be resetting the password for ",{"type":20,"tag":46,"props":85,"children":86},{},[87],{"type":25,"value":88},"ADMIN",{"type":25,"value":90}," who has a user ID of ",{"type":20,"tag":46,"props":92,"children":93},{},[94],{"type":25,"value":95},"2",{"type":25,"value":97},". Then we'll assign the new\npassword like so:",{"type":20,"tag":71,"props":99,"children":101},{"code":100},"# ipmitool user set password 2 \u003Cpassword>\n",[102],{"type":20,"tag":38,"props":103,"children":104},{"__ignoreMap":7},[105],{"type":25,"value":100},{"type":20,"tag":21,"props":107,"children":108},{},[109],{"type":25,"value":110},"And you should be good to go!",{"type":20,"tag":21,"props":112,"children":113},{},[114],{"type":25,"value":115},"...",{"type":20,"tag":21,"props":117,"children":118},{},[119],{"type":25,"value":120},"Alternatively, if you'd like to factory reset the baseboard management controller (BMC), which will reset the IPMI\ncredentials to their default value, you can issue the following command.",{"type":20,"tag":71,"props":122,"children":124},{"code":123},"# ipmitool raw 0x3c 0x40\n",[125],{"type":20,"tag":38,"props":126,"children":127},{"__ignoreMap":7},[128],{"type":25,"value":123},{"type":20,"tag":21,"props":130,"children":131},{},[132,134,139,141,146,148,153,154,159,161,170,172,177,179,186],{"type":25,"value":133},"Where ",{"type":20,"tag":38,"props":135,"children":136},{},[137],{"type":25,"value":138},"0x3c",{"type":25,"value":140}," is the ",{"type":20,"tag":38,"props":142,"children":143},{},[144],{"type":25,"value":145},"\u003Cnetfn>",{"type":25,"value":147}," argument, a.k.a. the network function code that defines the functional routing for\nmessages, and ",{"type":20,"tag":38,"props":149,"children":150},{},[151],{"type":25,"value":152},"0x40",{"type":25,"value":140},{"type":20,"tag":38,"props":155,"children":156},{},[157],{"type":25,"value":158},"\u003Ccmd>",{"type":25,"value":160},". According to section 5.1 of the ",{"type":20,"tag":162,"props":163,"children":167},"a",{"href":164,"rel":165},"https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ipmi-second-gen-interface-spec-v2-rev1-1.pdf",[166],"nofollow",[168],{"type":25,"value":169},"IPMI interface\nspecification",{"type":25,"value":171},",\n",{"type":20,"tag":46,"props":173,"children":174},{},[175],{"type":25,"value":176},"netfn",{"type":25,"value":178}," codes ranging from 0x30 to 0x3F are reserved for vendor specific functions. I searched around for some\nSupermicro references on these vendor specific network functions without much luck other than various ",{"type":20,"tag":162,"props":180,"children":183},{"href":181,"rel":182},"https://www.supermicro.com/support/faqs/faq.cfm?faq=15448",[166],[184],{"type":25,"value":185},"support\nresponses",{"type":25,"value":187}," on how to reset a device. Bummer!",{"title":7,"searchDepth":189,"depth":189,"links":190},2,[],"markdown","content:articles:reset-ipmi-password-from-host-os.md","content","articles/reset-ipmi-password-from-host-os.md","md",1698028735997]