[{"data":1,"prerenderedAt":202},["Reactive",2],{"page-data":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"tags":11,"categories":15,"excerpt":16,"body":26,"_type":197,"_id":198,"_source":199,"_file":200,"_extension":201},"/articles/reset-ipmi-password-from-host-os","articles",false,"","Reset IPMI Credentials from the Host OS","If you ever find yourself locked out of the Intelligent Platform Management Interface (IPMI) of a server, these\ninstructions will guide your through the process of resetting the credentials to their default values from the host\noperating system.","2021-12-27",[12,13,14],"homelab","supermicro","truenas",[12],{"type":17,"children":18},"root",[19],{"type":20,"tag":21,"props":22,"children":23},"element","p",{},[24],{"type":25,"value":9},"text",{"type":17,"children":27,"toc":194},[28,32,54,67,72,81,100,108,113,118,123,131],{"type":20,"tag":21,"props":29,"children":30},{},[31],{"type":25,"value":9},{"type":20,"tag":21,"props":33,"children":34},{},[35,37,44,46,52],{"type":25,"value":36},"If you are using an operating system like TrueNAS -- good news! It's possible to reset the IPMI password directly from\nthe web interface. This is done by navigating to ",{"type":20,"tag":38,"props":39,"children":41},"code",{"className":40},[],[42],{"type":25,"value":43},"Network > IPMI",{"type":25,"value":45},", and simply entering a new value in the ",{"type":20,"tag":47,"props":48,"children":49},"em",{},[50],{"type":25,"value":51},"IPMI\nPassword Reset",{"type":25,"value":53}," field.",{"type":20,"tag":21,"props":55,"children":56},{},[57,59,65],{"type":25,"value":58},"If you are using some other OS that doesn't have this feature, you can achieve similar results by using the ",{"type":20,"tag":38,"props":60,"children":62},{"className":61},[],[63],{"type":25,"value":64},"ipmitool",{"type":25,"value":66},"\ncommand-line utility.",{"type":20,"tag":21,"props":68,"children":69},{},[70],{"type":25,"value":71},"First, you'll want to determine the user ID associated with the user for whom you'd like to reset the password.",{"type":20,"tag":73,"props":74,"children":76},"pre",{"code":75},"# ipmitool user list\nID  Name             Callin  Link Auth  IPMI Msg   Channel Priv Limit\n1                    true    false      false      Unknown (0x00)\n2   ADMIN            true    false      false      Unknown (0x00)\n",[77],{"type":20,"tag":38,"props":78,"children":79},{"__ignoreMap":7},[80],{"type":25,"value":75},{"type":20,"tag":21,"props":82,"children":83},{},[84,86,91,93,98],{"type":25,"value":85},"In this case, we will be resetting the password for ",{"type":20,"tag":47,"props":87,"children":88},{},[89],{"type":25,"value":90},"ADMIN",{"type":25,"value":92}," who has a user ID of ",{"type":20,"tag":47,"props":94,"children":95},{},[96],{"type":25,"value":97},"2",{"type":25,"value":99},". Then we'll assign the new\npassword like so:",{"type":20,"tag":73,"props":101,"children":103},{"code":102},"# ipmitool user set password 2 \u003Cpassword>\n",[104],{"type":20,"tag":38,"props":105,"children":106},{"__ignoreMap":7},[107],{"type":25,"value":102},{"type":20,"tag":21,"props":109,"children":110},{},[111],{"type":25,"value":112},"And you should be good to go!",{"type":20,"tag":21,"props":114,"children":115},{},[116],{"type":25,"value":117},"...",{"type":20,"tag":21,"props":119,"children":120},{},[121],{"type":25,"value":122},"Alternatively, if you'd like to factory reset the baseboard management controller (BMC), which will reset the IPMI\ncredentials to their default value, you can issue the following command.",{"type":20,"tag":73,"props":124,"children":126},{"code":125},"# ipmitool raw 0x3c 0x40\n",[127],{"type":20,"tag":38,"props":128,"children":129},{"__ignoreMap":7},[130],{"type":25,"value":125},{"type":20,"tag":21,"props":132,"children":133},{},[134,136,142,144,150,152,158,159,165,167,176,178,183,185,192],{"type":25,"value":135},"Where ",{"type":20,"tag":38,"props":137,"children":139},{"className":138},[],[140],{"type":25,"value":141},"0x3c",{"type":25,"value":143}," is the ",{"type":20,"tag":38,"props":145,"children":147},{"className":146},[],[148],{"type":25,"value":149},"\u003Cnetfn>",{"type":25,"value":151}," argument, a.k.a. the network function code that defines the functional routing for\nmessages, and ",{"type":20,"tag":38,"props":153,"children":155},{"className":154},[],[156],{"type":25,"value":157},"0x40",{"type":25,"value":143},{"type":20,"tag":38,"props":160,"children":162},{"className":161},[],[163],{"type":25,"value":164},"\u003Ccmd>",{"type":25,"value":166},". According to section 5.1 of the ",{"type":20,"tag":168,"props":169,"children":173},"a",{"href":170,"rel":171},"https://www.intel.com/content/dam/www/public/us/en/documents/product-briefs/ipmi-second-gen-interface-spec-v2-rev1-1.pdf",[172],"nofollow",[174],{"type":25,"value":175},"IPMI interface\nspecification",{"type":25,"value":177},",\n",{"type":20,"tag":47,"props":179,"children":180},{},[181],{"type":25,"value":182},"netfn",{"type":25,"value":184}," codes ranging from 0x30 to 0x3F are reserved for vendor specific functions. I searched around for some\nSupermicro references on these vendor specific network functions without much luck other than various ",{"type":20,"tag":168,"props":186,"children":189},{"href":187,"rel":188},"https://www.supermicro.com/support/faqs/faq.cfm?faq=15448",[172],[190],{"type":25,"value":191},"support\nresponses",{"type":25,"value":193}," on how to reset a device. Bummer!",{"title":7,"searchDepth":195,"depth":195,"links":196},2,[],"markdown","content:articles:reset-ipmi-password-from-host-os.md","content","articles/reset-ipmi-password-from-host-os.md","md",1718891181764]