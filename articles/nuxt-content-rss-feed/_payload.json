[{"data":1,"prerenderedAt":1076},["ShallowReactive",2],{"/articles/nuxt-content-rss-feed":3},{"id":4,"title":5,"body":6,"categories":1053,"date":1055,"description":1056,"extension":1057,"img":1058,"meta":1059,"navigation":158,"path":1069,"seo":1070,"stem":1071,"tags":1072,"__hash__":1075},"content/articles/nuxt-content-rss-feed.md","How To Add an RSS Feed to a Nuxt Website",{"type":7,"value":8,"toc":1048},"minimal",[9,21,26,41,45,54,84,95,112,687,706,749,753,760,763,779,785,995,1003,1044],[10,11,12,13,20],"p",{},"If you are a user of ",[14,15,19],"a",{"href":16,"rel":17},"https://content.nuxt.com/",[18],"nofollow","Nuxt Content"," and you wish to configure an RSS feed for your website, it's a surprisingly straight forward process! In this article, we will walk through the code changes required to host an RSS feed for both a statically generated, and Universal Nuxt application.",[22,23,25],"h2",{"id":24},"preface","Preface",[10,27,28,29,34,35,40],{},"In version 2 of Nuxt, the community module, ",[14,30,33],{"href":31,"rel":32},"https://github.com/nuxt-community/feed-module",[18],"nuxt-community/feed-module"," was a popular choice for adding an RSS feed to your website. However, there has been an unresolved ",[14,36,39],{"href":37,"rel":38},"https://github.com/nuxt-community/feed-module/issues/106",[18],"open issue"," since April 1st, 2022 to add support for Nuxt v3. Thankfully, implementing this feature without a module is relatively straight forward.",[22,42,44],{"id":43},"instructions","Instructions",[10,46,47,48,53],{},"First, install the ",[14,49,52],{"href":50,"rel":51},"https://www.npmjs.com/package/feed",[18],"feed"," library into your project:",[55,56,61],"pre",{"className":57,"code":58,"language":59,"meta":60,"style":60},"language-shell shiki shiki-themes github-dark","npm i -D feed\n","shell","",[62,63,64],"code",{"__ignoreMap":60},[65,66,69,73,77,81],"span",{"class":67,"line":68},"line",1,[65,70,72],{"class":71},"svObZ","npm",[65,74,76],{"class":75},"sU2Wk"," i",[65,78,80],{"class":79},"sDLfK"," -D",[65,82,83],{"class":75}," feed\n",[10,85,86,87,90,91,94],{},"Then, create a ",[62,88,89],{},"server/"," folder in your project if it does not already exist, and create a file named ",[62,92,93],{},"server/routes/atom.ts",".",[10,96,97,98,100,101,103,104,107,108,111],{},"Here, we will leverage the ",[62,99,52],{}," library and construct an XML representation of our Nuxt content. As you can see, we first define our ",[62,102,52],{}," with metadata associated with our RSS feed. This will be used by RSS readers to provide context to the end user. Then, we query our Nuxt content with ",[62,105,106],{},"serverQueryContent"," and append a ",[62,109,110],{},"feed.addItem"," for each article.",[55,113,117],{"className":114,"code":115,"language":116,"meta":60,"style":60},"language-ts shiki shiki-themes github-dark","import { serverQueryContent } from '#content/server';\nimport { Feed } from 'feed';\n\nconst BASE_URL = \"https://mywebsite.com\"\nconst AUTHOR_NAME = \"Firstname Lastname\"\n\nexport default defineEventHandler(async (event) => {\n\n    const feed = new Feed({\n      title: \"My Title\",\n      description: \"My Description\",\n      id: BASE_URL,\n      link: BASE_URL,\n      language: \"en\",\n      image: `${BASE_URL}/images/placeholder.png`,\n      favicon: `${BASE_URL}/favicon.ico`,\n      copyright: `All rights reserved ${new Date().getFullYear()}, ${AUTHOR_NAME}`,\n      updated: new Date(),\n      generator: \"Nuxt static site generation + Feed for Node.js\",\n      feedLinks: {\n        atom: `${BASE_URL}/atom`\n      },\n      author: {\n        name: AUTHOR_NAME,\n      }\n    });\n\n    const articles = await serverQueryContent(event).find();\n\n    articles.forEach((article) => {\n      feed.addItem({\n        title: article.title ? article.title : \"Missing Title\",\n        id: article._path,\n        link: `${BASE_URL}${article._path}`,\n        description: article.description,\n        author: [\n          {\n            name: AUTHOR_NAME,\n          },\n        ],\n        date: new Date(article.date),\n        image: article.cover_image ? `${BASE_URL}/${article.cover_image}` : undefined\n      });\n    });\n\n    return feed.atom1();\n});\n","ts",[62,118,119,138,153,160,175,188,193,227,232,252,264,275,286,296,307,323,338,373,386,397,403,416,422,428,438,444,450,455,480,485,506,517,537,543,567,573,579,585,595,601,607,620,651,657,662,667,681],{"__ignoreMap":60},[65,120,121,125,129,132,135],{"class":67,"line":68},[65,122,124],{"class":123},"snl16","import",[65,126,128],{"class":127},"s95oV"," { serverQueryContent } ",[65,130,131],{"class":123},"from",[65,133,134],{"class":75}," '#content/server'",[65,136,137],{"class":127},";\n",[65,139,141,143,146,148,151],{"class":67,"line":140},2,[65,142,124],{"class":123},[65,144,145],{"class":127}," { Feed } ",[65,147,131],{"class":123},[65,149,150],{"class":75}," 'feed'",[65,152,137],{"class":127},[65,154,156],{"class":67,"line":155},3,[65,157,159],{"emptyLinePlaceholder":158},true,"\n",[65,161,163,166,169,172],{"class":67,"line":162},4,[65,164,165],{"class":123},"const",[65,167,168],{"class":79}," BASE_URL",[65,170,171],{"class":123}," =",[65,173,174],{"class":75}," \"https://mywebsite.com\"\n",[65,176,178,180,183,185],{"class":67,"line":177},5,[65,179,165],{"class":123},[65,181,182],{"class":79}," AUTHOR_NAME",[65,184,171],{"class":123},[65,186,187],{"class":75}," \"Firstname Lastname\"\n",[65,189,191],{"class":67,"line":190},6,[65,192,159],{"emptyLinePlaceholder":158},[65,194,196,199,202,205,208,211,214,218,221,224],{"class":67,"line":195},7,[65,197,198],{"class":123},"export",[65,200,201],{"class":123}," default",[65,203,204],{"class":71}," defineEventHandler",[65,206,207],{"class":127},"(",[65,209,210],{"class":123},"async",[65,212,213],{"class":127}," (",[65,215,217],{"class":216},"s9osk","event",[65,219,220],{"class":127},") ",[65,222,223],{"class":123},"=>",[65,225,226],{"class":127}," {\n",[65,228,230],{"class":67,"line":229},8,[65,231,159],{"emptyLinePlaceholder":158},[65,233,235,238,241,243,246,249],{"class":67,"line":234},9,[65,236,237],{"class":123},"    const",[65,239,240],{"class":79}," feed",[65,242,171],{"class":123},[65,244,245],{"class":123}," new",[65,247,248],{"class":71}," Feed",[65,250,251],{"class":127},"({\n",[65,253,255,258,261],{"class":67,"line":254},10,[65,256,257],{"class":127},"      title: ",[65,259,260],{"class":75},"\"My Title\"",[65,262,263],{"class":127},",\n",[65,265,267,270,273],{"class":67,"line":266},11,[65,268,269],{"class":127},"      description: ",[65,271,272],{"class":75},"\"My Description\"",[65,274,263],{"class":127},[65,276,278,281,284],{"class":67,"line":277},12,[65,279,280],{"class":127},"      id: ",[65,282,283],{"class":79},"BASE_URL",[65,285,263],{"class":127},[65,287,289,292,294],{"class":67,"line":288},13,[65,290,291],{"class":127},"      link: ",[65,293,283],{"class":79},[65,295,263],{"class":127},[65,297,299,302,305],{"class":67,"line":298},14,[65,300,301],{"class":127},"      language: ",[65,303,304],{"class":75},"\"en\"",[65,306,263],{"class":127},[65,308,310,313,316,318,321],{"class":67,"line":309},15,[65,311,312],{"class":127},"      image: ",[65,314,315],{"class":75},"`${",[65,317,283],{"class":79},[65,319,320],{"class":75},"}/images/placeholder.png`",[65,322,263],{"class":127},[65,324,326,329,331,333,336],{"class":67,"line":325},16,[65,327,328],{"class":127},"      favicon: ",[65,330,315],{"class":75},[65,332,283],{"class":79},[65,334,335],{"class":75},"}/favicon.ico`",[65,337,263],{"class":127},[65,339,341,344,347,350,353,356,359,362,365,368,371],{"class":67,"line":340},17,[65,342,343],{"class":127},"      copyright: ",[65,345,346],{"class":75},"`All rights reserved ${",[65,348,349],{"class":123},"new",[65,351,352],{"class":71}," Date",[65,354,355],{"class":75},"().",[65,357,358],{"class":71},"getFullYear",[65,360,361],{"class":75},"()",[65,363,364],{"class":75},"}, ${",[65,366,367],{"class":79},"AUTHOR_NAME",[65,369,370],{"class":75},"}`",[65,372,263],{"class":127},[65,374,376,379,381,383],{"class":67,"line":375},18,[65,377,378],{"class":127},"      updated: ",[65,380,349],{"class":123},[65,382,352],{"class":71},[65,384,385],{"class":127},"(),\n",[65,387,389,392,395],{"class":67,"line":388},19,[65,390,391],{"class":127},"      generator: ",[65,393,394],{"class":75},"\"Nuxt static site generation + Feed for Node.js\"",[65,396,263],{"class":127},[65,398,400],{"class":67,"line":399},20,[65,401,402],{"class":127},"      feedLinks: {\n",[65,404,406,409,411,413],{"class":67,"line":405},21,[65,407,408],{"class":127},"        atom: ",[65,410,315],{"class":75},[65,412,283],{"class":79},[65,414,415],{"class":75},"}/atom`\n",[65,417,419],{"class":67,"line":418},22,[65,420,421],{"class":127},"      },\n",[65,423,425],{"class":67,"line":424},23,[65,426,427],{"class":127},"      author: {\n",[65,429,431,434,436],{"class":67,"line":430},24,[65,432,433],{"class":127},"        name: ",[65,435,367],{"class":79},[65,437,263],{"class":127},[65,439,441],{"class":67,"line":440},25,[65,442,443],{"class":127},"      }\n",[65,445,447],{"class":67,"line":446},26,[65,448,449],{"class":127},"    });\n",[65,451,453],{"class":67,"line":452},27,[65,454,159],{"emptyLinePlaceholder":158},[65,456,458,460,463,465,468,471,474,477],{"class":67,"line":457},28,[65,459,237],{"class":123},[65,461,462],{"class":79}," articles",[65,464,171],{"class":123},[65,466,467],{"class":123}," await",[65,469,470],{"class":71}," serverQueryContent",[65,472,473],{"class":127},"(event).",[65,475,476],{"class":71},"find",[65,478,479],{"class":127},"();\n",[65,481,483],{"class":67,"line":482},29,[65,484,159],{"emptyLinePlaceholder":158},[65,486,488,491,494,497,500,502,504],{"class":67,"line":487},30,[65,489,490],{"class":127},"    articles.",[65,492,493],{"class":71},"forEach",[65,495,496],{"class":127},"((",[65,498,499],{"class":216},"article",[65,501,220],{"class":127},[65,503,223],{"class":123},[65,505,226],{"class":127},[65,507,509,512,515],{"class":67,"line":508},31,[65,510,511],{"class":127},"      feed.",[65,513,514],{"class":71},"addItem",[65,516,251],{"class":127},[65,518,520,523,526,529,532,535],{"class":67,"line":519},32,[65,521,522],{"class":127},"        title: article.title ",[65,524,525],{"class":123},"?",[65,527,528],{"class":127}," article.title ",[65,530,531],{"class":123},":",[65,533,534],{"class":75}," \"Missing Title\"",[65,536,263],{"class":127},[65,538,540],{"class":67,"line":539},33,[65,541,542],{"class":127},"        id: article._path,\n",[65,544,546,549,551,553,556,558,560,563,565],{"class":67,"line":545},34,[65,547,548],{"class":127},"        link: ",[65,550,315],{"class":75},[65,552,283],{"class":79},[65,554,555],{"class":75},"}${",[65,557,499],{"class":127},[65,559,94],{"class":75},[65,561,562],{"class":127},"_path",[65,564,370],{"class":75},[65,566,263],{"class":127},[65,568,570],{"class":67,"line":569},35,[65,571,572],{"class":127},"        description: article.description,\n",[65,574,576],{"class":67,"line":575},36,[65,577,578],{"class":127},"        author: [\n",[65,580,582],{"class":67,"line":581},37,[65,583,584],{"class":127},"          {\n",[65,586,588,591,593],{"class":67,"line":587},38,[65,589,590],{"class":127},"            name: ",[65,592,367],{"class":79},[65,594,263],{"class":127},[65,596,598],{"class":67,"line":597},39,[65,599,600],{"class":127},"          },\n",[65,602,604],{"class":67,"line":603},40,[65,605,606],{"class":127},"        ],\n",[65,608,610,613,615,617],{"class":67,"line":609},41,[65,611,612],{"class":127},"        date: ",[65,614,349],{"class":123},[65,616,352],{"class":71},[65,618,619],{"class":127},"(article.date),\n",[65,621,623,626,628,631,633,636,638,640,643,645,648],{"class":67,"line":622},42,[65,624,625],{"class":127},"        image: article.cover_image ",[65,627,525],{"class":123},[65,629,630],{"class":75}," `${",[65,632,283],{"class":79},[65,634,635],{"class":75},"}/${",[65,637,499],{"class":127},[65,639,94],{"class":75},[65,641,642],{"class":127},"cover_image",[65,644,370],{"class":75},[65,646,647],{"class":123}," :",[65,649,650],{"class":79}," undefined\n",[65,652,654],{"class":67,"line":653},43,[65,655,656],{"class":127},"      });\n",[65,658,660],{"class":67,"line":659},44,[65,661,449],{"class":127},[65,663,665],{"class":67,"line":664},45,[65,666,159],{"emptyLinePlaceholder":158},[65,668,670,673,676,679],{"class":67,"line":669},46,[65,671,672],{"class":123},"    return",[65,674,675],{"class":127}," feed.",[65,677,678],{"class":71},"atom1",[65,680,479],{"class":127},[65,682,684],{"class":67,"line":683},47,[65,685,686],{"class":127},"});\n",[10,688,689,690,693,694,697,698,701,702,705],{},"And that's just about it! Except, if you are statically generating your website with the ",[62,691,692],{},"nuxt generate"," command, you will need to configure this server-side route to be pre-rendered on site generation.  This is as simple as adding a ",[62,695,696],{},"nitro"," ",[62,699,700],{},"prerender"," definition in your ",[62,703,704],{},"nuxt.config.ts"," file, like so:",[55,707,709],{"className":114,"code":708,"language":116,"meta":60,"style":60},"nitro: {\n  prerender: {\n    routes: ['/atom']\n  }\n}\n",[62,710,711,718,725,739,744],{"__ignoreMap":60},[65,712,713,715],{"class":67,"line":68},[65,714,696],{"class":71},[65,716,717],{"class":127},": {\n",[65,719,720,723],{"class":67,"line":140},[65,721,722],{"class":71},"  prerender",[65,724,717],{"class":127},[65,726,727,730,733,736],{"class":67,"line":155},[65,728,729],{"class":71},"    routes",[65,731,732],{"class":127},": [",[65,734,735],{"class":75},"'/atom'",[65,737,738],{"class":127},"]\n",[65,740,741],{"class":67,"line":162},[65,742,743],{"class":127},"  }\n",[65,745,746],{"class":67,"line":177},[65,747,748],{"class":127},"}\n",[22,750,752],{"id":751},"bonus","Bonus",[10,754,755,756,759],{},"You may also be interested in adding a ",[62,757,758],{},"sitemap.xml"," to your website. This can be done in almost an identical fashion!",[10,761,762],{},"Install the dependency:",[55,764,766],{"className":57,"code":765,"language":59,"meta":60,"style":60},"npm i -D sitemap\n",[62,767,768],{"__ignoreMap":60},[65,769,770,772,774,776],{"class":67,"line":68},[65,771,72],{"class":71},[65,773,76],{"class":75},[65,775,80],{"class":79},[65,777,778],{"class":75}," sitemap\n",[10,780,781,782,531],{},"Create a route at ",[62,783,784],{},"server/routes/sitemap.xml.ts",[55,786,788],{"className":114,"code":787,"language":116,"meta":60,"style":60},"import { serverQueryContent } from '#content/server';\nimport { SitemapStream, streamToPromise } from 'sitemap';\n\nexport default defineEventHandler(async (event) => {\n    const articles = await serverQueryContent(event).find();\n\n    const sitemap = new SitemapStream({ hostname: 'https://my-website.com/' });\n\n    // Add non nuxt content endpoints here\n    sitemap.write({ url: '/' });\n    sitemap.write({ url: '/articles' });\n\n    // Dynamically generate routes for Nuxt markdown content\n    articles.forEach((article) => sitemap.write({ url: article._path, changefreq: 'monthly' }));\n    sitemap.end();\n\n    return (await streamToPromise(sitemap));\n});\n",[62,789,790,802,816,820,842,860,864,887,891,897,913,926,930,935,963,972,976,991],{"__ignoreMap":60},[65,791,792,794,796,798,800],{"class":67,"line":68},[65,793,124],{"class":123},[65,795,128],{"class":127},[65,797,131],{"class":123},[65,799,134],{"class":75},[65,801,137],{"class":127},[65,803,804,806,809,811,814],{"class":67,"line":140},[65,805,124],{"class":123},[65,807,808],{"class":127}," { SitemapStream, streamToPromise } ",[65,810,131],{"class":123},[65,812,813],{"class":75}," 'sitemap'",[65,815,137],{"class":127},[65,817,818],{"class":67,"line":155},[65,819,159],{"emptyLinePlaceholder":158},[65,821,822,824,826,828,830,832,834,836,838,840],{"class":67,"line":162},[65,823,198],{"class":123},[65,825,201],{"class":123},[65,827,204],{"class":71},[65,829,207],{"class":127},[65,831,210],{"class":123},[65,833,213],{"class":127},[65,835,217],{"class":216},[65,837,220],{"class":127},[65,839,223],{"class":123},[65,841,226],{"class":127},[65,843,844,846,848,850,852,854,856,858],{"class":67,"line":177},[65,845,237],{"class":123},[65,847,462],{"class":79},[65,849,171],{"class":123},[65,851,467],{"class":123},[65,853,470],{"class":71},[65,855,473],{"class":127},[65,857,476],{"class":71},[65,859,479],{"class":127},[65,861,862],{"class":67,"line":190},[65,863,159],{"emptyLinePlaceholder":158},[65,865,866,868,871,873,875,878,881,884],{"class":67,"line":195},[65,867,237],{"class":123},[65,869,870],{"class":79}," sitemap",[65,872,171],{"class":123},[65,874,245],{"class":123},[65,876,877],{"class":71}," SitemapStream",[65,879,880],{"class":127},"({ hostname: ",[65,882,883],{"class":75},"'https://my-website.com/'",[65,885,886],{"class":127}," });\n",[65,888,889],{"class":67,"line":229},[65,890,159],{"emptyLinePlaceholder":158},[65,892,893],{"class":67,"line":234},[65,894,896],{"class":895},"sAwPA","    // Add non nuxt content endpoints here\n",[65,898,899,902,905,908,911],{"class":67,"line":254},[65,900,901],{"class":127},"    sitemap.",[65,903,904],{"class":71},"write",[65,906,907],{"class":127},"({ url: ",[65,909,910],{"class":75},"'/'",[65,912,886],{"class":127},[65,914,915,917,919,921,924],{"class":67,"line":266},[65,916,901],{"class":127},[65,918,904],{"class":71},[65,920,907],{"class":127},[65,922,923],{"class":75},"'/articles'",[65,925,886],{"class":127},[65,927,928],{"class":67,"line":277},[65,929,159],{"emptyLinePlaceholder":158},[65,931,932],{"class":67,"line":288},[65,933,934],{"class":895},"    // Dynamically generate routes for Nuxt markdown content\n",[65,936,937,939,941,943,945,947,949,952,954,957,960],{"class":67,"line":298},[65,938,490],{"class":127},[65,940,493],{"class":71},[65,942,496],{"class":127},[65,944,499],{"class":216},[65,946,220],{"class":127},[65,948,223],{"class":123},[65,950,951],{"class":127}," sitemap.",[65,953,904],{"class":71},[65,955,956],{"class":127},"({ url: article._path, changefreq: ",[65,958,959],{"class":75},"'monthly'",[65,961,962],{"class":127}," }));\n",[65,964,965,967,970],{"class":67,"line":309},[65,966,901],{"class":127},[65,968,969],{"class":71},"end",[65,971,479],{"class":127},[65,973,974],{"class":67,"line":325},[65,975,159],{"emptyLinePlaceholder":158},[65,977,978,980,982,985,988],{"class":67,"line":340},[65,979,672],{"class":123},[65,981,213],{"class":127},[65,983,984],{"class":123},"await",[65,986,987],{"class":71}," streamToPromise",[65,989,990],{"class":127},"(sitemap));\n",[65,992,993],{"class":67,"line":375},[65,994,686],{"class":127},[10,996,997,998,1000,1001,531],{},"And add the ",[62,999,700],{}," entry in your ",[62,1002,704],{},[55,1004,1006],{"className":114,"code":1005,"language":116,"meta":60,"style":60},"nitro: {\n  prerender: {\n    routes: ['/sitemap.xml', '/atom']\n  }\n}\n",[62,1007,1008,1014,1020,1036,1040],{"__ignoreMap":60},[65,1009,1010,1012],{"class":67,"line":68},[65,1011,696],{"class":71},[65,1013,717],{"class":127},[65,1015,1016,1018],{"class":67,"line":140},[65,1017,722],{"class":71},[65,1019,717],{"class":127},[65,1021,1022,1024,1026,1029,1032,1034],{"class":67,"line":155},[65,1023,729],{"class":71},[65,1025,732],{"class":127},[65,1027,1028],{"class":75},"'/sitemap.xml'",[65,1030,1031],{"class":127},", ",[65,1033,735],{"class":75},[65,1035,738],{"class":127},[65,1037,1038],{"class":67,"line":162},[65,1039,743],{"class":127},[65,1041,1042],{"class":67,"line":177},[65,1043,748],{"class":127},[1045,1046,1047],"style",{},"html pre.shiki code .svObZ, html code.shiki .svObZ{--shiki-default:#B392F0}html pre.shiki code .sU2Wk, html code.shiki .sU2Wk{--shiki-default:#9ECBFF}html pre.shiki code .sDLfK, html code.shiki .sDLfK{--shiki-default:#79B8FF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .snl16, html code.shiki .snl16{--shiki-default:#F97583}html pre.shiki code .s95oV, html code.shiki .s95oV{--shiki-default:#E1E4E8}html pre.shiki code .s9osk, html code.shiki .s9osk{--shiki-default:#FFAB70}html pre.shiki code .sAwPA, html code.shiki .sAwPA{--shiki-default:#6A737D}",{"title":60,"searchDepth":140,"depth":140,"links":1049},[1050,1051,1052],{"id":24,"depth":140,"text":25},{"id":43,"depth":140,"text":44},{"id":751,"depth":140,"text":752},[1054],"programming","2024-01-06T00:00:00.000Z","If you are a user of Nuxt Content and you wish to configure an RSS feed for your website, it's a surprisingly straight forward process! In this article, we will walk through the code changes required to host an RSS feed for both a statically generated, and Universal Nuxt application.","md",null,{"draft":1060,"cover_image":1061,"excerpt":1062},false,"/images/nuxt-content-rss-feed.jpg",{"type":7,"value":1063},[1064],[10,1065,12,1066,20],{},[14,1067,19],{"href":16,"rel":1068},[18],"/articles/nuxt-content-rss-feed",{"title":5,"description":1056},"articles/nuxt-content-rss-feed",[1073,1074],"nuxt","rss","qDNoobAycXp_w9fPqpVkFH3iDmavUdj4MzJJflIT07k",1759783442151]