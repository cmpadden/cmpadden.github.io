[{"data":1,"prerenderedAt":315},["ShallowReactive",2],{"page-data":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"draft":6,"tags":11,"categories":14,"excerpt":16,"body":43,"_type":309,"_id":310,"_source":311,"_file":312,"_stem":313,"_extension":314},"/articles/apu2-firmware-upgrade","articles",false,"","Upgrading the Firmware on the PCEngines APU2","I've had a PCEngines APU2 gathering dust for a\nfew years, and have recently decided to dust it off.","2019-12-21",[12,13],"pcengine","apu",[15],"linux",{"type":17,"children":18},"root",[19,38],{"type":20,"tag":21,"props":22,"children":23},"element","p",{},[24,27,36],{"type":25,"value":26},"text","I've had a ",{"type":20,"tag":28,"props":29,"children":33},"a",{"href":30,"rel":31},"https://pcengines.ch/apu2.htm",[32],"nofollow",[34],{"type":25,"value":35},"PCEngines APU2",{"type":25,"value":37}," gathering dust for a\nfew years, and have recently decided to dust it off.",{"type":20,"tag":21,"props":39,"children":40},{},[41],{"type":25,"value":42},"Since the last time the device has been powered on, there have been many great\nimprovements to the firmware, and it was very-much due for an upgrade. The\nfollowing steps outline how the firmware was upgraded on the APU from the\nalready-installed operating system -- CentOS.",{"type":17,"children":44,"toc":307},[45,55,59,64,74,103,161,174,200,205,244,253,301],{"type":20,"tag":21,"props":46,"children":47},{},[48,49,54],{"type":25,"value":26},{"type":20,"tag":28,"props":50,"children":52},{"href":30,"rel":51},[32],[53],{"type":25,"value":35},{"type":25,"value":37},{"type":20,"tag":21,"props":56,"children":57},{},[58],{"type":25,"value":42},{"type":20,"tag":21,"props":60,"children":61},{},[62],{"type":25,"value":63},"First, we will connect to the device over the serial port",{"type":20,"tag":65,"props":66,"children":68},"pre",{"code":67},"screen /dev/tty.usbserial 115200\n",[69],{"type":20,"tag":70,"props":71,"children":72},"code",{"__ignoreMap":7},[73],{"type":25,"value":67},{"type":20,"tag":21,"props":75,"children":76},{},[77,79,85,87,93,95,101],{"type":25,"value":78},"Then, we will install the ",{"type":20,"tag":70,"props":80,"children":82},{"className":81},[],[83],{"type":25,"value":84},"flashrom",{"type":25,"value":86}," utility that is needed to update the\nfirmware. Because it is not available in the default ",{"type":20,"tag":70,"props":88,"children":90},{"className":89},[],[91],{"type":25,"value":92},"yum",{"type":25,"value":94}," repositories, we\nwill enable the ",{"type":20,"tag":96,"props":97,"children":98},"em",{},[99],{"type":25,"value":100},"Extra Packages for Enterprise Linux",{"type":25,"value":102}," (EPEL) repository before\ninstallation.",{"type":20,"tag":65,"props":104,"children":108},{"code":105,"language":106,"meta":7,"className":107,"style":7},"sudo yum install epel-release\nsudo yum install flashrom\n","bash","language-bash shiki shiki-themes github-light",[109],{"type":20,"tag":70,"props":110,"children":111},{"__ignoreMap":7},[112,140],{"type":20,"tag":113,"props":114,"children":117},"span",{"class":115,"line":116},"line",1,[118,124,130,135],{"type":20,"tag":113,"props":119,"children":121},{"style":120},"--shiki-default:#6F42C1",[122],{"type":25,"value":123},"sudo",{"type":20,"tag":113,"props":125,"children":127},{"style":126},"--shiki-default:#032F62",[128],{"type":25,"value":129}," yum",{"type":20,"tag":113,"props":131,"children":132},{"style":126},[133],{"type":25,"value":134}," install",{"type":20,"tag":113,"props":136,"children":137},{"style":126},[138],{"type":25,"value":139}," epel-release\n",{"type":20,"tag":113,"props":141,"children":143},{"class":115,"line":142},2,[144,148,152,156],{"type":20,"tag":113,"props":145,"children":146},{"style":120},[147],{"type":25,"value":123},{"type":20,"tag":113,"props":149,"children":150},{"style":126},[151],{"type":25,"value":129},{"type":20,"tag":113,"props":153,"children":154},{"style":126},[155],{"type":25,"value":134},{"type":20,"tag":113,"props":157,"children":158},{"style":126},[159],{"type":25,"value":160}," flashrom\n",{"type":20,"tag":21,"props":162,"children":163},{},[164,166,172],{"type":25,"value":165},"Next, we will download the latest version of the firmware that is compatible\nwith the APU2 device from the PC Engines release website:\n",{"type":20,"tag":28,"props":167,"children":170},{"href":168,"rel":169},"https://pcengines.github.io/",[32],[171],{"type":25,"value":168},{"type":25,"value":173},".",{"type":20,"tag":65,"props":175,"children":177},{"code":176,"language":106,"meta":7,"className":107,"style":7},"curl -O https://3mdeb.com/open-source-firmware/pcengines/apu2/apu2_v4.11.0.1.rom\n",[178],{"type":20,"tag":70,"props":179,"children":180},{"__ignoreMap":7},[181],{"type":20,"tag":113,"props":182,"children":183},{"class":115,"line":116},[184,189,195],{"type":20,"tag":113,"props":185,"children":186},{"style":120},[187],{"type":25,"value":188},"curl",{"type":20,"tag":113,"props":190,"children":192},{"style":191},"--shiki-default:#005CC5",[193],{"type":25,"value":194}," -O",{"type":20,"tag":113,"props":196,"children":197},{"style":126},[198],{"type":25,"value":199}," https://3mdeb.com/open-source-firmware/pcengines/apu2/apu2_v4.11.0.1.rom\n",{"type":20,"tag":21,"props":201,"children":202},{},[203],{"type":25,"value":204},"And finally, we will flash the firmware...",{"type":20,"tag":65,"props":206,"children":208},{"code":207,"language":106,"meta":7,"className":107,"style":7},"sudo flashrom -w apu2_v4.11.0.1.rom -p internal:boardmismatch=force\n",[209],{"type":20,"tag":70,"props":210,"children":211},{"__ignoreMap":7},[212],{"type":20,"tag":113,"props":213,"children":214},{"class":115,"line":116},[215,219,224,229,234,239],{"type":20,"tag":113,"props":216,"children":217},{"style":120},[218],{"type":25,"value":123},{"type":20,"tag":113,"props":220,"children":221},{"style":126},[222],{"type":25,"value":223}," flashrom",{"type":20,"tag":113,"props":225,"children":226},{"style":191},[227],{"type":25,"value":228}," -w",{"type":20,"tag":113,"props":230,"children":231},{"style":126},[232],{"type":25,"value":233}," apu2_v4.11.0.1.rom",{"type":20,"tag":113,"props":235,"children":236},{"style":191},[237],{"type":25,"value":238}," -p",{"type":20,"tag":113,"props":240,"children":241},{"style":126},[242],{"type":25,"value":243}," internal:boardmismatch=force\n",{"type":20,"tag":21,"props":245,"children":246},{},[247],{"type":20,"tag":248,"props":249,"children":250},"strong",{},[251],{"type":25,"value":252},"References:",{"type":20,"tag":254,"props":255,"children":256},"ul",{},[257,266,274,283,292],{"type":20,"tag":258,"props":259,"children":260},"li",{},[261],{"type":20,"tag":28,"props":262,"children":264},{"href":30,"rel":263},[32],[265],{"type":25,"value":30},{"type":20,"tag":258,"props":267,"children":268},{},[269],{"type":20,"tag":28,"props":270,"children":272},{"href":168,"rel":271},[32],[273],{"type":25,"value":168},{"type":20,"tag":258,"props":275,"children":276},{},[277],{"type":20,"tag":28,"props":278,"children":281},{"href":279,"rel":280},"https://github.com/pcengines/apu2-documentation/blob/master/docs/firmware_flashing.md",[32],[282],{"type":25,"value":279},{"type":20,"tag":258,"props":284,"children":285},{},[286],{"type":20,"tag":28,"props":287,"children":290},{"href":288,"rel":289},"https://github.com/pcengines/apu2-documentation/blob/master/docs/cold_reset.md",[32],[291],{"type":25,"value":288},{"type":20,"tag":258,"props":293,"children":294},{},[295],{"type":20,"tag":28,"props":296,"children":299},{"href":297,"rel":298},"https://github.com/elad/openbsd-apu2",[32],[300],{"type":25,"value":297},{"type":20,"tag":302,"props":303,"children":304},"style",{},[305],{"type":25,"value":306},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":142,"depth":142,"links":308},[],"markdown","content:articles:apu2-firmware-upgrade.md","content","articles/apu2-firmware-upgrade.md","articles/apu2-firmware-upgrade","md",1735328194630]