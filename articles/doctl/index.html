<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"><link rel="modulepreload" href="/articles/doctl/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.476c2a3d.js"><link rel="preload" as="style" href="/_nuxt/entry.5a9e0e05.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.1ebf35e3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Header.98518493.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Footer.0a4ff27a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...slug_.875024eb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRendererMarkdown.7dce214f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.1dec55d2.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentRenderer.90ccd0af.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/asyncData.12037cf6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/query.bbdf5012.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/index.65a31f1c.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/utils.5c0504c5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.39ca5389.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.0e98609b.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.ba276f5d.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.c7a90093.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.a3e35d54.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ContentDoc.f946b6ec.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ContentQuery.011c78a5.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/web-socket.9a52cdc6.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/light.09bfb3ef.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.16d7a6c7.js"><link rel="stylesheet" href="/_nuxt/entry.5a9e0e05.css"><style>pre code .line{display:block;min-height:1rem}</style></head>
<body ><div id="__nuxt"><body><!--[--><main class="flex flex-col min-h-screen bg-grayish font-display"><div class="bg-grayish py-3"><nav class="container mx-auto"><div class="mx-6 md:mx-12 px-2"><div class="flex justify-between text-gray-200 font-semibold"><div><a href="/" class="mr-2 text-white hover:text-blue-200"> Home </a></div><div><a href="/articles" class="mr-2 text-white hover:text-blue-200"> Blog </a><a href="/playground" class="mr-2 text-white hover:text-blue-200"><svg class="inline h-4 w-4 fill-current text-white hover:text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"></path></svg></a><a href="https://github.com/cmpadden" class="mr-2"><svg class="inline h-4 w-4 fill-current text-white hover:text-blue-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M13.18 11.309c-.718 0-1.3.807-1.3 1.799 0 .994.582 1.801 1.3 1.801s1.3-.807 1.3-1.801c-.001-.992-.582-1.799-1.3-1.799zm4.526-4.683c.149-.365.155-2.439-.635-4.426 0 0-1.811.199-4.551 2.08-.575-.16-1.548-.238-2.519-.238-.973 0-1.945.078-2.52.238C4.74 2.399 2.929 2.2 2.929 2.2c-.789 1.987-.781 4.061-.634 4.426C1.367 7.634.8 8.845.8 10.497c0 7.186 5.963 7.301 7.467 7.301l1.734.002 1.732-.002c1.506 0 7.467-.115 7.467-7.301 0-1.652-.566-2.863-1.494-3.871zm-7.678 10.289h-.056c-3.771 0-6.709-.449-6.709-4.115 0-.879.31-1.693 1.047-2.369C5.537 9.304 7.615 9.9 9.972 9.9h.056c2.357 0 4.436-.596 5.664.531.735.676 1.045 1.49 1.045 2.369 0 3.666-2.937 4.115-6.709 4.115zm-3.207-5.606c-.718 0-1.3.807-1.3 1.799 0 .994.582 1.801 1.3 1.801.719 0 1.301-.807 1.301-1.801 0-.992-.582-1.799-1.301-1.799z"></path></svg></a></div></div></div></nav></div><main class="flex-1 mt-4"><!--[--><!--[--><div class="container mx-auto px-2"><div class="mx-6 md:mx-12"><article class="shadow-lg bg-gray-200 mb-10 p-10"><h1 class="font-bold text-3xl text-gray-700">Exploring the Digital Ocean `doctl` Utility</h1><p class="text-sm text-gray-600 flex items-center mb-4">2023-01-01</p><article class="prose max-w-none"><!--[--><div><p><!--[-->I recently had the need to spool up a small ephemeral Linux instance, and wanted to try something new by exploring the Digital Ocean <code><!--[-->doctl<!--]--></code> command line utility.
This proved to be an <em><!--[-->extremely<!--]--></em> easy way to configure, create, connect, and destroy a Linux box, and I foresee myself using this service even more in the future.<!--]--></p><p><!--[-->To start things off, I had to install and setup authentication to Digital Ocean. Doing
this on my Mac machine, I opted to use <a href="https://brew.sh/" rel="nofollow"><!--[-->Homebrew<!--]--></a>.<!--]--></p><!--[--><pre><code># install `doctl`
brew install doctl

# setup authentication
doctl auth init
</code></pre><!--]--><p><!--[-->While the online <a href="https://docs.digitalocean.com/reference/doctl/reference/compute/droplet/create/" rel="nofollow"><!--[-->documentation<!--]--></a> is fantastic, I instead found myself mostly referencing the outputs of <code><!--[-->--help<!--]--></code>.<!--]--></p><!--[--><pre><code>doctl compute droplet create --help
</code></pre><!--]--><p><!--[-->I had to find the image name of the version of Ubuntu I wanted to install:<!--]--></p><!--[--><pre><code>doctl compute image list --public | grep ubuntu-22

# 118857366    22.04 (LTS) x64    snapshot    Ubuntu    ubuntu-22-04-x64    true    7
# 119383150    22.10 x64          snapshot    Ubuntu    ubuntu-22-10-x64    true    7
</code></pre><!--]--><p><!--[-->And also the slug of the compute size:<!--]--></p><!--[--><pre><code>doctl compute size list

# Slug                  Description    Memory    VCPUs    Disk    Price Monthly    Price Hourly
# s-1vcpu-512mb-10gb    Basic          512       1        10      4.00             0.005950
# s-1vcpu-1gb           Basic          1024      1        25      6.00             0.008930
# s-1vcpu-1gb-amd       Basic AMD      1024      1        25      7.00             0.010420
# s-1vcpu-1gb-intel     Basic Intel    1024      1        25      7.00             0.010420
# s-1vcpu-2gb           Basic          2048      1        50      12.00            0.017860
# s-1vcpu-2gb-amd       Basic AMD      2048      1        50      14.00            0.020830
</code></pre><!--]--><p><!--[-->I&#39;ve also configured a few SSH keys with Digital Ocean, and I can have the key (specified by ID) provisioned to the machine using the <code><!--[-->--ssh-keys<!--]--></code> flag.<!--]--></p><!--[--><pre><code>doctl compute ssh-key list

# ID      Name    FingerPrint
# 1234    mini    &lt;redacted&gt;
</code></pre><!--]--><p><!--[-->Also, I wanted to install a few packages to the box upon creation, this can be done easily with the <code><!--[-->--user-data-file<!--]--></code> flag to run an initialization script.<!--]--></p><!--[--><pre><code>echo &#39;apt install -y imagemagick zip&#39; &gt; bootstrap.sh
</code></pre><!--]--><p><!--[-->Putting it all together, here is the simple command for creating a small compute instance!<!--]--></p><!--[--><pre><code>doctl compute droplet create \
    --image ubuntu-22-10-x64 \
    --size s-1vcpu-512mb-10gb \
    --region nyc1 \
    --ssh-keys 1234 \
    --user-data-file boostrap.sh \
    ephemeral
</code></pre><!--]--><p><!--[-->Finally, I can connect, do my thing, and destroy the instance.<!--]--></p><!--[--><pre><code>doctl compute ssh ephemeral
</code></pre><!--]--><!--[--><pre><code>doctl compute droplet delete --force ephemeral
</code></pre><!--]--><p><!--[-->All-in-all, I was up and running in about 20 minutes. What a handy utility!<!--]--></p></div><!--]--></article></article></div></div><!--]--><!--]--></main><footer class="w-full p-4 text-xs text-center text-white bg-gradient-to-l from-blackish to-pink-600 pin-b"><div>Â© Colton Padden</div><div class="pb-2"> Made with <a href="https://nuxtjs.org/" class="underline hover:text-blue-400">NuxtJS</a> &amp; <a href="https://tailwindcss.com/" class="underline hover:text-blue-400">tailwindcss</a></div></footer></main><!--]--></body></div><script type="module">import p from "/articles/doctl/_payload.js";window.__NUXT__={...p,...((function(a,b){return {state:{},_errors:{},serverRendered:true,config:{public:{content:{locales:[],integrity:1672601441977,experimental:{stripQueryParameters:a,clientDB:a},api:{baseURL:"\u002Fapi\u002F_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:a,wsUrl:b,documentDriven:a,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:b}},prerenderedAt:1672601458961}}(false,"")))}</script><script type="module" src="/_nuxt/entry.476c2a3d.js" crossorigin></script><script type="module" src="/_nuxt/default.1ebf35e3.js" crossorigin></script><script type="module" src="/_nuxt/Header.98518493.js" crossorigin></script><script type="module" src="/_nuxt/_...slug_.875024eb.js" crossorigin></script><script type="module" src="/_nuxt/Footer.0a4ff27a.js" crossorigin></script><script type="module" src="/_nuxt/ContentRenderer.90ccd0af.js" crossorigin></script><script type="module" src="/_nuxt/ContentRendererMarkdown.7dce214f.js" crossorigin></script><script type="module" src="/_nuxt/ProseP.39ca5389.js" crossorigin></script><script type="module" src="/_nuxt/ProseCodeInline.0e98609b.js" crossorigin></script><script type="module" src="/_nuxt/ProseEm.ba276f5d.js" crossorigin></script><script type="module" src="/_nuxt/ProseA.c7a90093.js" crossorigin></script><script type="module" src="/_nuxt/ProseCode.a3e35d54.js" crossorigin></script></body>
</html>