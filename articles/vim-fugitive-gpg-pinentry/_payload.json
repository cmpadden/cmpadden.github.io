[{"data":1,"prerenderedAt":329},["Reactive",2],{"page-data":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"draft":6,"date":10,"tags":11,"categories":14,"excerpt":17,"body":56,"_type":323,"_id":324,"_source":325,"_file":326,"_stem":327,"_extension":328},"/articles/vim-fugitive-gpg-pinentry","articles",false,"","Using pinentry-mac to sign commits from vim-fugitive","In order to sign git commits from within Vim using a plugin like tpope/vim-fugitive, it is necessary to configure the gpg-agent to use a GUI based pinentry-program.","2024-05-11",[12,13],"vim","tip",[15,16],"tooling","tips",{"type":18,"children":19},"root",[20],{"type":21,"tag":22,"props":23,"children":24},"element","p",{},[25,28,37,39,46,48,54],{"type":26,"value":27},"text","In order to sign git commits from within Vim using a plugin like ",{"type":21,"tag":29,"props":30,"children":34},"a",{"href":31,"rel":32},"https://github.com/tpope/vim-fugitive",[33],"nofollow",[35],{"type":26,"value":36},"tpope/vim-fugitive",{"type":26,"value":38},", it is necessary to configure the ",{"type":21,"tag":40,"props":41,"children":43},"code",{"className":42},[],[44],{"type":26,"value":45},"gpg-agent",{"type":26,"value":47}," to use a GUI based ",{"type":21,"tag":40,"props":49,"children":51},{"className":50},[],[52],{"type":26,"value":53},"pinentry-program",{"type":26,"value":55},".",{"type":18,"children":57,"toc":319},[58,80,87,129,135,140,178,198,206,218,250,255,308,313],{"type":21,"tag":22,"props":59,"children":60},{},[61,62,67,68,73,74,79],{"type":26,"value":27},{"type":21,"tag":29,"props":63,"children":65},{"href":31,"rel":64},[33],[66],{"type":26,"value":36},{"type":26,"value":38},{"type":21,"tag":40,"props":69,"children":71},{"className":70},[],[72],{"type":26,"value":45},{"type":26,"value":47},{"type":21,"tag":40,"props":75,"children":77},{"className":76},[],[78],{"type":26,"value":53},{"type":26,"value":55},{"type":21,"tag":81,"props":82,"children":84},"h2",{"id":83},"preface",[85],{"type":26,"value":86},"Preface",{"type":21,"tag":22,"props":88,"children":89},{},[90,92,99,101,106,107,112,114,120,122,128],{"type":26,"value":91},"The man, the myth, the legend, Timothy Popallopollis himself ",{"type":21,"tag":29,"props":93,"children":96},{"href":94,"rel":95},"https://github.com/tpope/vim-fugitive/issues/846#issuecomment-253816577",[33],[97],{"type":26,"value":98},"recommends",{"type":26,"value":100}," configuring your ",{"type":21,"tag":40,"props":102,"children":104},{"className":103},[],[105],{"type":26,"value":45},{"type":26,"value":47},{"type":21,"tag":40,"props":108,"children":110},{"className":109},[],[111],{"type":26,"value":53},{"type":26,"value":113},". On macOS this can be done quite by simply installing ",{"type":21,"tag":40,"props":115,"children":117},{"className":116},[],[118],{"type":26,"value":119},"pinentry-mac",{"type":26,"value":121},", and updating your ",{"type":21,"tag":40,"props":123,"children":125},{"className":124},[],[126],{"type":26,"value":127},"gpg-agent.conf",{"type":26,"value":55},{"type":21,"tag":81,"props":130,"children":132},{"id":131},"configuration",[133],{"type":26,"value":134},"Configuration",{"type":21,"tag":22,"props":136,"children":137},{},[138],{"type":26,"value":139},"First things first, let's install the pinentry program.",{"type":21,"tag":141,"props":142,"children":146},"pre",{"code":143,"language":144,"meta":7,"className":145,"style":7},"$ brew install pinentry-mac\n","bash","language-bash shiki shiki-themes github-light",[147],{"type":21,"tag":40,"props":148,"children":149},{"__ignoreMap":7},[150],{"type":21,"tag":151,"props":152,"children":155},"span",{"class":153,"line":154},"line",1,[156,162,168,173],{"type":21,"tag":151,"props":157,"children":159},{"style":158},"--shiki-default:#6F42C1",[160],{"type":26,"value":161},"$",{"type":21,"tag":151,"props":163,"children":165},{"style":164},"--shiki-default:#032F62",[166],{"type":26,"value":167}," brew",{"type":21,"tag":151,"props":169,"children":170},{"style":164},[171],{"type":26,"value":172}," install",{"type":21,"tag":151,"props":174,"children":175},{"style":164},[176],{"type":26,"value":177}," pinentry-mac\n",{"type":21,"tag":22,"props":179,"children":180},{},[181,183,188,190,196],{"type":26,"value":182},"Then, all we need to do is set the ",{"type":21,"tag":40,"props":184,"children":186},{"className":185},[],[187],{"type":26,"value":53},{"type":26,"value":189}," option in your ",{"type":21,"tag":40,"props":191,"children":193},{"className":192},[],[194],{"type":26,"value":195},"~/.gnupg/gpg-agent.conf",{"type":26,"value":197}," file.",{"type":21,"tag":141,"props":199,"children":201},{"code":200},"default-cache-ttl 600\nmax-cache-ttl 7200\npinentry-program /opt/homebrew/bin/pinentry-mac\n",[202],{"type":21,"tag":40,"props":203,"children":204},{"__ignoreMap":7},[205],{"type":26,"value":200},{"type":21,"tag":22,"props":207,"children":208},{},[209,211,217],{"type":26,"value":210},"If your don't know the path to your pinentry program, you can throw down a quick ",{"type":21,"tag":40,"props":212,"children":214},{"className":213},[],[215],{"type":26,"value":216},"which",{"type":26,"value":55},{"type":21,"tag":141,"props":219,"children":221},{"code":220,"language":144,"meta":7,"className":145,"style":7},"$ which pinentry-mac\n/opt/homebrew/bin/pinentry-mac\n",[222],{"type":21,"tag":40,"props":223,"children":224},{"__ignoreMap":7},[225,241],{"type":21,"tag":151,"props":226,"children":227},{"class":153,"line":154},[228,232,237],{"type":21,"tag":151,"props":229,"children":230},{"style":158},[231],{"type":26,"value":161},{"type":21,"tag":151,"props":233,"children":234},{"style":164},[235],{"type":26,"value":236}," which",{"type":21,"tag":151,"props":238,"children":239},{"style":164},[240],{"type":26,"value":177},{"type":21,"tag":151,"props":242,"children":244},{"class":153,"line":243},2,[245],{"type":21,"tag":151,"props":246,"children":247},{"style":158},[248],{"type":26,"value":249},"/opt/homebrew/bin/pinentry-mac\n",{"type":21,"tag":22,"props":251,"children":252},{},[253],{"type":26,"value":254},"Or use your Homebrew prefix.",{"type":21,"tag":141,"props":256,"children":258},{"code":257,"language":144,"meta":7,"className":145,"style":7},"$ echo $(brew --prefix)/bin/pinentry-mac\n/opt/homebrew/bin/pinentry-mac\n",[259],{"type":21,"tag":40,"props":260,"children":261},{"__ignoreMap":7},[262,301],{"type":21,"tag":151,"props":263,"children":264},{"class":153,"line":154},[265,269,274,280,285,291,296],{"type":21,"tag":151,"props":266,"children":267},{"style":158},[268],{"type":26,"value":161},{"type":21,"tag":151,"props":270,"children":271},{"style":164},[272],{"type":26,"value":273}," echo",{"type":21,"tag":151,"props":275,"children":277},{"style":276},"--shiki-default:#24292E",[278],{"type":26,"value":279}," $(",{"type":21,"tag":151,"props":281,"children":282},{"style":158},[283],{"type":26,"value":284},"brew",{"type":21,"tag":151,"props":286,"children":288},{"style":287},"--shiki-default:#005CC5",[289],{"type":26,"value":290}," --prefix",{"type":21,"tag":151,"props":292,"children":293},{"style":276},[294],{"type":26,"value":295},")",{"type":21,"tag":151,"props":297,"children":298},{"style":164},[299],{"type":26,"value":300},"/bin/pinentry-mac\n",{"type":21,"tag":151,"props":302,"children":303},{"class":153,"line":243},[304],{"type":21,"tag":151,"props":305,"children":306},{"style":158},[307],{"type":26,"value":249},{"type":21,"tag":22,"props":309,"children":310},{},[311],{"type":26,"value":312},"But that's all it takes. Now, you should be prompted to enter your gpg pin in an external window when signing commits from vim.",{"type":21,"tag":314,"props":315,"children":316},"style",{},[317],{"type":26,"value":318},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":243,"depth":243,"links":320},[321,322],{"id":83,"depth":243,"text":86},{"id":131,"depth":243,"text":134},"markdown","content:articles:vim-fugitive-gpg-pinentry.md","content","articles/vim-fugitive-gpg-pinentry.md","articles/vim-fugitive-gpg-pinentry","md",1720229315487]