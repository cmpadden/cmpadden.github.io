[{"data":1,"prerenderedAt":806},["ShallowReactive",2],{"/articles/nuxt-p5js-3d-models":3},{"id":4,"title":5,"body":6,"categories":780,"date":782,"description":783,"extension":784,"img":785,"meta":786,"navigation":84,"path":798,"seo":799,"stem":800,"tags":801,"__hash__":805},"content/articles/nuxt-p5js-3d-models.md","Render three-dimensional models in NuxtContent with p5js",{"type":7,"value":8,"toc":778},"minimal",[9,30,43,146,153,158,169,177,194,200,771,774],[10,11,12,13,17,18,21,22,29],"p",{},"Three-dimensional models, whether they be of the format ",[14,15,16],"code",{},".obj"," or ",[14,19,20],{},".stl",", can be easily rendered in your Nuxt project by using the ",[23,24,28],"a",{"href":25,"rel":26},"https://p5js.org/",[27],"nofollow","p5js.org"," library.",[10,31,32,33,36,37,42],{},"I've been using p5 for a while now to tinker and explore generative art, some of which can be found in the ",[23,34,35],{"href":35},"/playground"," section of this website. To use it with Nuxt, a ",[23,38,41],{"href":39,"rel":40},"https://github.com/cmpadden/cmpadden.github.io/blob/70ba674acdbe80c4a41b510a9b54edcddb19f489/plugins/p5.client.js",[27],"client-side plugin"," was created like so:",[44,45,50],"pre",{"className":46,"code":47,"language":48,"meta":49,"style":49},"language-js shiki shiki-themes github-dark","// plugins/p5.client.js\nimport p5 from 'p5'\n\nexport default defineNuxtPlugin(() => {\n  return {\n    provide: {\n      p5, p5\n    }\n  }\n})\n","js","",[14,51,52,61,79,86,108,116,122,128,134,140],{"__ignoreMap":49},[53,54,57],"span",{"class":55,"line":56},"line",1,[53,58,60],{"class":59},"sAwPA","// plugins/p5.client.js\n",[53,62,64,68,72,75],{"class":55,"line":63},2,[53,65,67],{"class":66},"snl16","import",[53,69,71],{"class":70},"s95oV"," p5 ",[53,73,74],{"class":66},"from",[53,76,78],{"class":77},"sU2Wk"," 'p5'\n",[53,80,82],{"class":55,"line":81},3,[53,83,85],{"emptyLinePlaceholder":84},true,"\n",[53,87,89,92,95,99,102,105],{"class":55,"line":88},4,[53,90,91],{"class":66},"export",[53,93,94],{"class":66}," default",[53,96,98],{"class":97},"svObZ"," defineNuxtPlugin",[53,100,101],{"class":70},"(() ",[53,103,104],{"class":66},"=>",[53,106,107],{"class":70}," {\n",[53,109,111,114],{"class":55,"line":110},5,[53,112,113],{"class":66},"  return",[53,115,107],{"class":70},[53,117,119],{"class":55,"line":118},6,[53,120,121],{"class":70},"    provide: {\n",[53,123,125],{"class":55,"line":124},7,[53,126,127],{"class":70},"      p5, p5\n",[53,129,131],{"class":55,"line":130},8,[53,132,133],{"class":70},"    }\n",[53,135,137],{"class":55,"line":136},9,[53,138,139],{"class":70},"  }\n",[53,141,143],{"class":55,"line":142},10,[53,144,145],{"class":70},"})\n",[10,147,148,149,152],{},"As I've been exploring 3d-printing lately, I wanted a way to showcase some of the models I've created directly on this website. So, the ",[14,150,151],{},"ModelPreview"," component was created, which you can see in use below.",[154,155],"model-preview",{":background-color":156,"path":157},"50","/models/eevee.stl",[10,159,160,161,164,165,168],{},"The Vue component was embedded in our markdown using the following syntax is used. The ",[14,162,163],{},"path"," prop with the location of the file we want to render; in this case, that file is served on the website as well in the ",[14,166,167],{},"public/models"," folder.",[44,170,175],{"className":171,"code":173,"language":174},[172],"language-text",":ModelPreview{path=\"/models/eevee.stl\"}\n","text",[14,176,173],{"__ignoreMap":49},[10,178,179,180,183,184,187,188,193],{},"The component was registered globally by using the ",[14,181,182],{},"ModelPreview.global.vue"," filename so that it was accessible in our markdown. Alternatively, this could have been accomplished by placing the component in the ",[14,185,186],{},"components/content"," folder. However, I wanted to use this component in both markdown and Vue files. See the ",[23,189,192],{"href":190,"rel":191},"https://content.nuxt.com/usage/markdown#vue-components",[27],"NuxtContent"," documentation for more details.",[10,195,196,197,199],{},"The full source code for the ",[14,198,151],{}," component at the time of this writing can be found below. Not too bad!",[44,201,203],{"className":46,"code":202,"language":48,"meta":49,"style":49},"\u003Ctemplate>\n    \u003Cdiv id=\"canvas\" class=\"h-64\" />\n\u003C/template>\n\n\u003Cscript setup lang=\"ts\">\nconst { $p5 } = useNuxtApp();\n\nconst { path, backgroundColor = 100 } = defineProps \u003C { path: string, backgroundColor?: Number } > ()\n\nonMounted(() => {\nconsole.log(backgroundColor);\n    const sketch = (s) => {\n        const c = document.getElementById(\"canvas\");\n\n        const WIDTH = c.clientWidth;\n        const HEIGHT = c.clientHeight;\n\n        let model;\n        let angle;\n        let rotate = true;\n\n        s.preload = () => {\n            model = s.loadModel(path, true);\n        };\n\n        s.setup = () => {\n            s.createCanvas(WIDTH, HEIGHT, s.WEBGL);\n        };\n\n        s.mouseClicked = () => {\n            rotate = false; // disable object rotation on click\n        };\n\n        s.draw = () => {\n            s.background(backgroundColor);\n            s.lights();\n\n            if (rotate) {\n                angle = s.frameCount * 0.005;\n            }\n            s.rotateX(angle);\n            s.rotateY(angle);\n            s.orbitControl();\n\n            s.model(model);\n        };\n    };\n\n    new $p5(sketch, \"canvas\");\n});\n\u003C/script>\n",[14,204,205,217,245,254,258,278,283,287,307,311,316,328,354,379,384,397,410,415,424,432,448,453,471,493,499,504,520,548,553,558,574,591,596,601,617,627,638,643,652,671,677,688,698,708,713,724,729,735,740,756,762],{"__ignoreMap":49},[53,206,207,210,214],{"class":55,"line":56},[53,208,209],{"class":70},"\u003C",[53,211,213],{"class":212},"s4JwU","template",[53,215,216],{"class":70},">\n",[53,218,219,222,225,228,231,234,237,239,242],{"class":55,"line":63},[53,220,221],{"class":70},"    \u003C",[53,223,224],{"class":212},"div",[53,226,227],{"class":97}," id",[53,229,230],{"class":66},"=",[53,232,233],{"class":77},"\"canvas\"",[53,235,236],{"class":97}," class",[53,238,230],{"class":66},[53,240,241],{"class":77},"\"h-64\"",[53,243,244],{"class":70}," />\n",[53,246,247,250,252],{"class":55,"line":81},[53,248,249],{"class":70},"\u003C/",[53,251,213],{"class":212},[53,253,216],{"class":70},[53,255,256],{"class":55,"line":88},[53,257,85],{"emptyLinePlaceholder":84},[53,259,260,262,265,268,271,273,276],{"class":55,"line":110},[53,261,209],{"class":70},[53,263,264],{"class":212},"script",[53,266,267],{"class":97}," setup",[53,269,270],{"class":97}," lang",[53,272,230],{"class":66},[53,274,275],{"class":77},"\"ts\"",[53,277,216],{"class":70},[53,279,280],{"class":55,"line":118},[53,281,282],{"class":70},"const { $p5 } = useNuxtApp();\n",[53,284,285],{"class":55,"line":124},[53,286,85],{"emptyLinePlaceholder":84},[53,288,289,292,294,298,301,304],{"class":55,"line":130},[53,290,291],{"class":70},"const { path, backgroundColor ",[53,293,230],{"class":66},[53,295,297],{"class":296},"sDLfK"," 100",[53,299,300],{"class":70}," } = defineProps \u003C { path: string, backgroundColor",[53,302,303],{"class":66},"?:",[53,305,306],{"class":70}," Number } > ()\n",[53,308,309],{"class":55,"line":136},[53,310,85],{"emptyLinePlaceholder":84},[53,312,313],{"class":55,"line":142},[53,314,315],{"class":70},"onMounted(() => {\n",[53,317,319,322,325],{"class":55,"line":318},11,[53,320,321],{"class":70},"console.",[53,323,324],{"class":97},"log",[53,326,327],{"class":70},"(backgroundColor);\n",[53,329,331,334,337,340,343,347,350,352],{"class":55,"line":330},12,[53,332,333],{"class":70},"    const ",[53,335,336],{"class":97},"sketch",[53,338,339],{"class":66}," =",[53,341,342],{"class":70}," (",[53,344,346],{"class":345},"s9osk","s",[53,348,349],{"class":70},") ",[53,351,104],{"class":66},[53,353,107],{"class":70},[53,355,357,360,363,365,368,371,374,376],{"class":55,"line":356},13,[53,358,359],{"class":66},"        const",[53,361,362],{"class":296}," c",[53,364,339],{"class":66},[53,366,367],{"class":70}," document.",[53,369,370],{"class":97},"getElementById",[53,372,373],{"class":70},"(",[53,375,233],{"class":77},[53,377,378],{"class":70},");\n",[53,380,382],{"class":55,"line":381},14,[53,383,85],{"emptyLinePlaceholder":84},[53,385,387,389,392,394],{"class":55,"line":386},15,[53,388,359],{"class":66},[53,390,391],{"class":296}," WIDTH",[53,393,339],{"class":66},[53,395,396],{"class":70}," c.clientWidth;\n",[53,398,400,402,405,407],{"class":55,"line":399},16,[53,401,359],{"class":66},[53,403,404],{"class":296}," HEIGHT",[53,406,339],{"class":66},[53,408,409],{"class":70}," c.clientHeight;\n",[53,411,413],{"class":55,"line":412},17,[53,414,85],{"emptyLinePlaceholder":84},[53,416,418,421],{"class":55,"line":417},18,[53,419,420],{"class":66},"        let",[53,422,423],{"class":70}," model;\n",[53,425,427,429],{"class":55,"line":426},19,[53,428,420],{"class":66},[53,430,431],{"class":70}," angle;\n",[53,433,435,437,440,442,445],{"class":55,"line":434},20,[53,436,420],{"class":66},[53,438,439],{"class":70}," rotate ",[53,441,230],{"class":66},[53,443,444],{"class":296}," true",[53,446,447],{"class":70},";\n",[53,449,451],{"class":55,"line":450},21,[53,452,85],{"emptyLinePlaceholder":84},[53,454,456,459,462,464,467,469],{"class":55,"line":455},22,[53,457,458],{"class":70},"        s.",[53,460,461],{"class":97},"preload",[53,463,339],{"class":66},[53,465,466],{"class":70}," () ",[53,468,104],{"class":66},[53,470,107],{"class":70},[53,472,474,477,479,482,485,488,491],{"class":55,"line":473},23,[53,475,476],{"class":70},"            model ",[53,478,230],{"class":66},[53,480,481],{"class":70}," s.",[53,483,484],{"class":97},"loadModel",[53,486,487],{"class":70},"(path, ",[53,489,490],{"class":296},"true",[53,492,378],{"class":70},[53,494,496],{"class":55,"line":495},24,[53,497,498],{"class":70},"        };\n",[53,500,502],{"class":55,"line":501},25,[53,503,85],{"emptyLinePlaceholder":84},[53,505,507,509,512,514,516,518],{"class":55,"line":506},26,[53,508,458],{"class":70},[53,510,511],{"class":97},"setup",[53,513,339],{"class":66},[53,515,466],{"class":70},[53,517,104],{"class":66},[53,519,107],{"class":70},[53,521,523,526,529,531,534,537,540,543,546],{"class":55,"line":522},27,[53,524,525],{"class":70},"            s.",[53,527,528],{"class":97},"createCanvas",[53,530,373],{"class":70},[53,532,533],{"class":296},"WIDTH",[53,535,536],{"class":70},", ",[53,538,539],{"class":296},"HEIGHT",[53,541,542],{"class":70},", s.",[53,544,545],{"class":296},"WEBGL",[53,547,378],{"class":70},[53,549,551],{"class":55,"line":550},28,[53,552,498],{"class":70},[53,554,556],{"class":55,"line":555},29,[53,557,85],{"emptyLinePlaceholder":84},[53,559,561,563,566,568,570,572],{"class":55,"line":560},30,[53,562,458],{"class":70},[53,564,565],{"class":97},"mouseClicked",[53,567,339],{"class":66},[53,569,466],{"class":70},[53,571,104],{"class":66},[53,573,107],{"class":70},[53,575,577,580,582,585,588],{"class":55,"line":576},31,[53,578,579],{"class":70},"            rotate ",[53,581,230],{"class":66},[53,583,584],{"class":296}," false",[53,586,587],{"class":70},"; ",[53,589,590],{"class":59},"// disable object rotation on click\n",[53,592,594],{"class":55,"line":593},32,[53,595,498],{"class":70},[53,597,599],{"class":55,"line":598},33,[53,600,85],{"emptyLinePlaceholder":84},[53,602,604,606,609,611,613,615],{"class":55,"line":603},34,[53,605,458],{"class":70},[53,607,608],{"class":97},"draw",[53,610,339],{"class":66},[53,612,466],{"class":70},[53,614,104],{"class":66},[53,616,107],{"class":70},[53,618,620,622,625],{"class":55,"line":619},35,[53,621,525],{"class":70},[53,623,624],{"class":97},"background",[53,626,327],{"class":70},[53,628,630,632,635],{"class":55,"line":629},36,[53,631,525],{"class":70},[53,633,634],{"class":97},"lights",[53,636,637],{"class":70},"();\n",[53,639,641],{"class":55,"line":640},37,[53,642,85],{"emptyLinePlaceholder":84},[53,644,646,649],{"class":55,"line":645},38,[53,647,648],{"class":66},"            if",[53,650,651],{"class":70}," (rotate) {\n",[53,653,655,658,660,663,666,669],{"class":55,"line":654},39,[53,656,657],{"class":70},"                angle ",[53,659,230],{"class":66},[53,661,662],{"class":70}," s.frameCount ",[53,664,665],{"class":66},"*",[53,667,668],{"class":296}," 0.005",[53,670,447],{"class":70},[53,672,674],{"class":55,"line":673},40,[53,675,676],{"class":70},"            }\n",[53,678,680,682,685],{"class":55,"line":679},41,[53,681,525],{"class":70},[53,683,684],{"class":97},"rotateX",[53,686,687],{"class":70},"(angle);\n",[53,689,691,693,696],{"class":55,"line":690},42,[53,692,525],{"class":70},[53,694,695],{"class":97},"rotateY",[53,697,687],{"class":70},[53,699,701,703,706],{"class":55,"line":700},43,[53,702,525],{"class":70},[53,704,705],{"class":97},"orbitControl",[53,707,637],{"class":70},[53,709,711],{"class":55,"line":710},44,[53,712,85],{"emptyLinePlaceholder":84},[53,714,716,718,721],{"class":55,"line":715},45,[53,717,525],{"class":70},[53,719,720],{"class":97},"model",[53,722,723],{"class":70},"(model);\n",[53,725,727],{"class":55,"line":726},46,[53,728,498],{"class":70},[53,730,732],{"class":55,"line":731},47,[53,733,734],{"class":70},"    };\n",[53,736,738],{"class":55,"line":737},48,[53,739,85],{"emptyLinePlaceholder":84},[53,741,743,746,749,752,754],{"class":55,"line":742},49,[53,744,745],{"class":66},"    new",[53,747,748],{"class":97}," $p5",[53,750,751],{"class":70},"(sketch, ",[53,753,233],{"class":77},[53,755,378],{"class":70},[53,757,759],{"class":55,"line":758},50,[53,760,761],{"class":70},"});\n",[53,763,765,767,769],{"class":55,"line":764},51,[53,766,249],{"class":70},[53,768,264],{"class":212},[53,770,216],{"class":70},[10,772,773],{},"Looking forward to sharing more models soon!",[775,776,777],"style",{},"html pre.shiki code .sAwPA, html code.shiki .sAwPA{--shiki-default:#6A737D}html pre.shiki code .snl16, html code.shiki .snl16{--shiki-default:#F97583}html pre.shiki code .s95oV, html code.shiki .s95oV{--shiki-default:#E1E4E8}html pre.shiki code .sU2Wk, html code.shiki .sU2Wk{--shiki-default:#9ECBFF}html pre.shiki code .svObZ, html code.shiki .svObZ{--shiki-default:#B392F0}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .s4JwU, html code.shiki .s4JwU{--shiki-default:#85E89D}html pre.shiki code .sDLfK, html code.shiki .sDLfK{--shiki-default:#79B8FF}html pre.shiki code .s9osk, html code.shiki .s9osk{--shiki-default:#FFAB70}",{"title":49,"searchDepth":63,"depth":63,"links":779},[],[781],"examples","2024-12-31T00:00:00.000Z","Three-dimensional models, whether they be of the format .obj or .stl, can be easily rendered in your Nuxt project by using the p5js.org library.","md",null,{"excerpt":787},{"type":7,"value":788},[789],[10,790,12,791,17,793,21,795,29],{},[14,792,16],{},[14,794,20],{},[23,796,28],{"href":25,"rel":797},[27],"/articles/nuxt-p5js-3d-models",{"title":5,"description":783},"articles/nuxt-p5js-3d-models",[802,803,804],"nuxt","p5js","3d","PajYZQHTFbAQs70Rg6Aa7FERpHnDcANoVRKBo1nBZSI",1748990930544]