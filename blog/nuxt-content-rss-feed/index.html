<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Colton Padden&#x27;s: Blog &amp; Experiments</title><style>pre code .line{min-height:.25rem!important}</style><style>pre code .line{display:block}</style><link rel="stylesheet" href="/_nuxt/entry.BXfjcBgn.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/nuxt-content-rss-feed/_payload.json?0e8c698a-b2e0-45fb-95e1-282f723580f6"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BDpF0hQS.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxZjww7E.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BYterYVV.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BRHH9d13.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/B_xfC5XW.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CzmErGs3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BsI4mepb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BSkRw13T.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Yl3iBeLn.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/CkI21hQe.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/9zsXnK7S.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DiqlIhkm.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/0e8c698a-b2e0-45fb-95e1-282f723580f6.json"><meta name="description" content="The blog, portfolio, and repository of experiments by Colton Padden."><meta property="og:title" content="Colton Padden's: Blog & Experiments"><meta property="og:description" content="The blog, portfolio, and repository of experiments by Colton Padden."><meta property="og:image" content="/images/og-index.webp"><meta property="og:image:type" content="image/webp"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="/images/og-index.webp"><meta name="twitter:title" content="Colton Padden's: Blog & Experiments"><meta name="twitter:description" content="The blog, portfolio, and repository of experiments by Colton Padden."><script type="module" src="/_nuxt/BDpF0hQS.js" crossorigin></script></head><body  class="bg-background"><div id="__nuxt"><div class="bg-gradient-to-b from-orange-500 to-red-500"><div class="p-[8px]"><main class="flex h-[calc(100vh-16px)] flex-col bg-background font-display"><nav class="container py-3"><div class="flex items-center text-gray-700 dark:text-gray-200"><div class="flex-1"></div><div class="flex items-center space-x-2"><div data-headlessui-state class="relative z-50 inline-block text-left"><div><button id="headlessui-menu-button-v-0-0" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state class="transform align-middle text-gray-700 transition-all duration-300 ease-in-out hover:scale-110 hover:text-orange-500 active:scale-95 dark:text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5"><path fill-rule="evenodd" d="M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75Zm7 10.5a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Z" clip-rule="evenodd"></path></svg></button></div><!----></div></div></div></nav><main class="no-scrollbar flex-1 overflow-scroll"><!--[--><div class="container mb-10 max-w-[1024px] space-y-6 text-white shadow-lg"><div class="flex"><img class="mr-4 h-16 border-2 border-black" src="/images/nuxt-content-rss-feed.jpg"><h1 class="text-2xl font-bold md:text-3xl">How To Add an RSS Feed to a Nuxt Website</h1></div><div class=""><div class="flex-row space-x-0 md:flex md:space-x-2"><p class="text-sm text-gray-300 md:text-right"> Published <time data-year="numeric" data-month="short" data-day="2-digit" datetime="2024-01-06T00:00:00.000Z" data-prehydrate-id=":WFaGyVfuXU:">Jan 06, 2024</time></p><!----><!----></div></div><!----><article class="prose max-w-[1024px] text-gray-300 prose-h2:mt-8 prose-a:font-bold prose-a:text-orange-400 prose-a:no-underline hover:prose-a:text-orange-200 prose-blockquote:text-gray-400 prose-code:text-white prose-pre:bg-black/70 prose-li:my-0"><div><p><!--[-->If you are a user of <a href="https://content.nuxt.com/" rel="nofollow"><!--[-->Nuxt Content<!--]--></a> and you wish to configure an RSS feed for your website, it&#39;s a surprisingly straight forward process! In this article, we will walk through the code changes required to host an RSS feed for both a statically generated, and Universal Nuxt application.<!--]--></p><h2 id="preface"><a href="#preface"><!--[-->Preface<!--]--></a></h2><p><!--[-->In version 2 of Nuxt, the community module, <a href="https://github.com/nuxt-community/feed-module" rel="nofollow"><!--[-->nuxt-community/feed-module<!--]--></a> was a popular choice for adding an RSS feed to your website. However, there has been an unresolved <a href="https://github.com/nuxt-community/feed-module/issues/106" rel="nofollow"><!--[-->open issue<!--]--></a> since April 1st, 2022 to add support for Nuxt v3. Thankfully, implementing this feature without a module is relatively straight forward.<!--]--></p><h2 id="instructions"><a href="#instructions"><!--[-->Instructions<!--]--></a></h2><p><!--[-->First, install the <a href="https://www.npmjs.com/package/feed" rel="nofollow"><!--[-->feed<!--]--></a> library into your project:<!--]--></p><pre class="language-shell shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="svObZ">npm</span><span class="sU2Wk"> i</span><span class="sDLfK"> -D</span><span class="sU2Wk"> feed
</span></span></code><!--]--></pre><p><!--[-->Then, create a <code><!--[-->server/<!--]--></code> folder in your project if it does not already exist, and create a file named <code><!--[-->server/routes/atom.ts<!--]--></code>.<!--]--></p><p><!--[-->Here, we will leverage the <code><!--[-->feed<!--]--></code> library and construct an XML representation of our Nuxt content. As you can see, we first define our <code><!--[-->feed<!--]--></code> with metadata associated with our RSS feed. This will be used by RSS readers to provide context to the end user. Then, we query our Nuxt content with <code><!--[-->serverQueryContent<!--]--></code> and append a <code><!--[-->feed.addItem<!--]--></code> for each article.<!--]--></p><pre class="language-ts shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="snl16">import</span><span class="s95oV"> { serverQueryContent } </span><span class="snl16">from</span><span class="sU2Wk"> &#39;#content/server&#39;</span><span class="s95oV">;
</span></span><span class="line" line="2"><span class="snl16">import</span><span class="s95oV"> { Feed } </span><span class="snl16">from</span><span class="sU2Wk"> &#39;feed&#39;</span><span class="s95oV">;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="snl16">const</span><span class="sDLfK"> BASE_URL</span><span class="snl16"> =</span><span class="sU2Wk"> &quot;https://mywebsite.com&quot;
</span></span><span class="line" line="5"><span class="snl16">const</span><span class="sDLfK"> AUTHOR_NAME</span><span class="snl16"> =</span><span class="sU2Wk"> &quot;Firstname Lastname&quot;
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="snl16">export</span><span class="snl16"> default</span><span class="svObZ"> defineEventHandler</span><span class="s95oV">(</span><span class="snl16">async</span><span class="s95oV"> (</span><span class="s9osk">event</span><span class="s95oV">) </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span class="snl16">    const</span><span class="sDLfK"> feed</span><span class="snl16"> =</span><span class="snl16"> new</span><span class="svObZ"> Feed</span><span class="s95oV">({
</span></span><span class="line" line="10"><span class="s95oV">      title: </span><span class="sU2Wk">&quot;My Title&quot;</span><span class="s95oV">,
</span></span><span class="line" line="11"><span class="s95oV">      description: </span><span class="sU2Wk">&quot;My Description&quot;</span><span class="s95oV">,
</span></span><span class="line" line="12"><span class="s95oV">      id: </span><span class="sDLfK">BASE_URL</span><span class="s95oV">,
</span></span><span class="line" line="13"><span class="s95oV">      link: </span><span class="sDLfK">BASE_URL</span><span class="s95oV">,
</span></span><span class="line" line="14"><span class="s95oV">      language: </span><span class="sU2Wk">&quot;en&quot;</span><span class="s95oV">,
</span></span><span class="line" line="15"><span class="s95oV">      image: </span><span class="sU2Wk">`${</span><span class="sDLfK">BASE_URL</span><span class="sU2Wk">}/images/placeholder.png`</span><span class="s95oV">,
</span></span><span class="line" line="16"><span class="s95oV">      favicon: </span><span class="sU2Wk">`${</span><span class="sDLfK">BASE_URL</span><span class="sU2Wk">}/favicon.ico`</span><span class="s95oV">,
</span></span><span class="line" line="17"><span class="s95oV">      copyright: </span><span class="sU2Wk">`All rights reserved ${</span><span class="snl16">new</span><span class="svObZ"> Date</span><span class="sU2Wk">().</span><span class="svObZ">getFullYear</span><span class="sU2Wk">()</span><span class="sU2Wk">}, ${</span><span class="sDLfK">AUTHOR_NAME</span><span class="sU2Wk">}`</span><span class="s95oV">,
</span></span><span class="line" line="18"><span class="s95oV">      updated: </span><span class="snl16">new</span><span class="svObZ"> Date</span><span class="s95oV">(),
</span></span><span class="line" line="19"><span class="s95oV">      generator: </span><span class="sU2Wk">&quot;Nuxt static site generation + Feed for Node.js&quot;</span><span class="s95oV">,
</span></span><span class="line" line="20"><span class="s95oV">      feedLinks: {
</span></span><span class="line" line="21"><span class="s95oV">        atom: </span><span class="sU2Wk">`${</span><span class="sDLfK">BASE_URL</span><span class="sU2Wk">}/atom`
</span></span><span class="line" line="22"><span class="s95oV">      },
</span></span><span class="line" line="23"><span class="s95oV">      author: {
</span></span><span class="line" line="24"><span class="s95oV">        name: </span><span class="sDLfK">AUTHOR_NAME</span><span class="s95oV">,
</span></span><span class="line" line="25"><span class="s95oV">      }
</span></span><span class="line" line="26"><span class="s95oV">    });
</span></span><span class="line" line="27"><span emptylineplaceholder="true">
</span></span><span class="line" line="28"><span class="snl16">    const</span><span class="sDLfK"> articles</span><span class="snl16"> =</span><span class="snl16"> await</span><span class="svObZ"> serverQueryContent</span><span class="s95oV">(event).</span><span class="svObZ">find</span><span class="s95oV">();
</span></span><span class="line" line="29"><span emptylineplaceholder="true">
</span></span><span class="line" line="30"><span class="s95oV">    articles.</span><span class="svObZ">forEach</span><span class="s95oV">((</span><span class="s9osk">article</span><span class="s95oV">) </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="31"><span class="s95oV">      feed.</span><span class="svObZ">addItem</span><span class="s95oV">({
</span></span><span class="line" line="32"><span class="s95oV">        title: article.title </span><span class="snl16">?</span><span class="s95oV"> article.title </span><span class="snl16">:</span><span class="sU2Wk"> &quot;Missing Title&quot;</span><span class="s95oV">,
</span></span><span class="line" line="33"><span class="s95oV">        id: article._path,
</span></span><span class="line" line="34"><span class="s95oV">        link: </span><span class="sU2Wk">`${</span><span class="sDLfK">BASE_URL</span><span class="sU2Wk">}${</span><span class="s95oV">article</span><span class="sU2Wk">.</span><span class="s95oV">_path</span><span class="sU2Wk">}`</span><span class="s95oV">,
</span></span><span class="line" line="35"><span class="s95oV">        description: article.description,
</span></span><span class="line" line="36"><span class="s95oV">        author: [
</span></span><span class="line" line="37"><span class="s95oV">          {
</span></span><span class="line" line="38"><span class="s95oV">            name: </span><span class="sDLfK">AUTHOR_NAME</span><span class="s95oV">,
</span></span><span class="line" line="39"><span class="s95oV">          },
</span></span><span class="line" line="40"><span class="s95oV">        ],
</span></span><span class="line" line="41"><span class="s95oV">        date: </span><span class="snl16">new</span><span class="svObZ"> Date</span><span class="s95oV">(article.date),
</span></span><span class="line" line="42"><span class="s95oV">        image: article.cover_image </span><span class="snl16">?</span><span class="sU2Wk"> `${</span><span class="sDLfK">BASE_URL</span><span class="sU2Wk">}/${</span><span class="s95oV">article</span><span class="sU2Wk">.</span><span class="s95oV">cover_image</span><span class="sU2Wk">}`</span><span class="snl16"> :</span><span class="sDLfK"> undefined
</span></span><span class="line" line="43"><span class="s95oV">      });
</span></span><span class="line" line="44"><span class="s95oV">    });
</span></span><span class="line" line="45"><span emptylineplaceholder="true">
</span></span><span class="line" line="46"><span class="snl16">    return</span><span class="s95oV"> feed.</span><span class="svObZ">atom1</span><span class="s95oV">();
</span></span><span class="line" line="47"><span class="s95oV">});
</span></span></code><!--]--></pre><p><!--[-->And that&#39;s just about it! Except, if you are statically generating your website with the <code><!--[-->nuxt generate<!--]--></code> command, you will need to configure this server-side route to be pre-rendered on site generation.  This is as simple as adding a <code><!--[-->nitro<!--]--></code> <code><!--[-->prerender<!--]--></code> definition in your <code><!--[-->nuxt.config.ts<!--]--></code> file, like so:<!--]--></p><pre class="language-ts shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="svObZ">nitro</span><span class="s95oV">: {
</span></span><span class="line" line="2"><span class="svObZ">  prerender</span><span class="s95oV">: {
</span></span><span class="line" line="3"><span class="svObZ">    routes</span><span class="s95oV">: [</span><span class="sU2Wk">&#39;/atom&#39;</span><span class="s95oV">]
</span></span><span class="line" line="4"><span class="s95oV">  }
</span></span><span class="line" line="5"><span class="s95oV">}
</span></span></code><!--]--></pre><h2 id="bonus"><a href="#bonus"><!--[-->Bonus<!--]--></a></h2><p><!--[-->You may also be interested in adding a <code><!--[-->sitemap.xml<!--]--></code> to your website. This can be done in almost an identical fashion!<!--]--></p><p><!--[-->Install the dependency:<!--]--></p><pre class="language-shell shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="svObZ">npm</span><span class="sU2Wk"> i</span><span class="sDLfK"> -D</span><span class="sU2Wk"> sitemap
</span></span></code><!--]--></pre><p><!--[-->Create a route at <code><!--[-->server/routes/sitemap.xml.ts<!--]--></code>:<!--]--></p><pre class="language-ts shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="snl16">import</span><span class="s95oV"> { serverQueryContent } </span><span class="snl16">from</span><span class="sU2Wk"> &#39;#content/server&#39;</span><span class="s95oV">;
</span></span><span class="line" line="2"><span class="snl16">import</span><span class="s95oV"> { SitemapStream, streamToPromise } </span><span class="snl16">from</span><span class="sU2Wk"> &#39;sitemap&#39;</span><span class="s95oV">;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="snl16">export</span><span class="snl16"> default</span><span class="svObZ"> defineEventHandler</span><span class="s95oV">(</span><span class="snl16">async</span><span class="s95oV"> (</span><span class="s9osk">event</span><span class="s95oV">) </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="5"><span class="snl16">    const</span><span class="sDLfK"> articles</span><span class="snl16"> =</span><span class="snl16"> await</span><span class="svObZ"> serverQueryContent</span><span class="s95oV">(event).</span><span class="svObZ">find</span><span class="s95oV">();
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span class="snl16">    const</span><span class="sDLfK"> sitemap</span><span class="snl16"> =</span><span class="snl16"> new</span><span class="svObZ"> SitemapStream</span><span class="s95oV">({ hostname: </span><span class="sU2Wk">&#39;https://my-website.com/&#39;</span><span class="s95oV"> });
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span class="sAwPA">    // Add non nuxt content endpoints here
</span></span><span class="line" line="10"><span class="s95oV">    sitemap.</span><span class="svObZ">write</span><span class="s95oV">({ url: </span><span class="sU2Wk">&#39;/&#39;</span><span class="s95oV"> });
</span></span><span class="line" line="11"><span class="s95oV">    sitemap.</span><span class="svObZ">write</span><span class="s95oV">({ url: </span><span class="sU2Wk">&#39;/blog&#39;</span><span class="s95oV"> });
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span class="sAwPA">    // Dynamically generate routes for Nuxt markdown content
</span></span><span class="line" line="14"><span class="s95oV">    articles.</span><span class="svObZ">forEach</span><span class="s95oV">((</span><span class="s9osk">article</span><span class="s95oV">) </span><span class="snl16">=&gt;</span><span class="s95oV"> sitemap.</span><span class="svObZ">write</span><span class="s95oV">({ url: article._path, changefreq: </span><span class="sU2Wk">&#39;monthly&#39;</span><span class="s95oV"> }));
</span></span><span class="line" line="15"><span class="s95oV">    sitemap.</span><span class="svObZ">end</span><span class="s95oV">();
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span class="snl16">    return</span><span class="s95oV"> (</span><span class="snl16">await</span><span class="svObZ"> streamToPromise</span><span class="s95oV">(sitemap));
</span></span><span class="line" line="18"><span class="s95oV">});
</span></span></code><!--]--></pre><p><!--[-->And add the <code><!--[-->prerender<!--]--></code> entry in your <code><!--[-->nuxt.config.ts<!--]--></code>:<!--]--></p><pre class="language-ts shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="svObZ">nitro</span><span class="s95oV">: {
</span></span><span class="line" line="2"><span class="svObZ">  prerender</span><span class="s95oV">: {
</span></span><span class="line" line="3"><span class="svObZ">    routes</span><span class="s95oV">: [</span><span class="sU2Wk">&#39;/sitemap.xml&#39;</span><span class="s95oV">, </span><span class="sU2Wk">&#39;/atom&#39;</span><span class="s95oV">]
</span></span><span class="line" line="4"><span class="s95oV">  }
</span></span><span class="line" line="5"><span class="s95oV">}
</span></span></code><!--]--></pre><style>html pre.shiki code .svObZ, html code.shiki .svObZ{--shiki-default:#B392F0}html pre.shiki code .sU2Wk, html code.shiki .sU2Wk{--shiki-default:#9ECBFF}html pre.shiki code .sDLfK, html code.shiki .sDLfK{--shiki-default:#79B8FF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .snl16, html code.shiki .snl16{--shiki-default:#F97583}html pre.shiki code .s95oV, html code.shiki .s95oV{--shiki-default:#E1E4E8}html pre.shiki code .s9osk, html code.shiki .s9osk{--shiki-default:#FFAB70}html pre.shiki code .sAwPA, html code.shiki .sAwPA{--shiki-default:#6A737D}</style></div></article></div><!--]--></main><footer class="pin-b w-full p-3 text-xs font-bold text-white"><div class="flex justify-center space-x-2"><a class="hover:cursor-pointer hover:text-blue-200" href="https://github.com/cmpadden/cmpadden.github.io"> © Colton Padden</a><span>•</span><a class="hover:cursor-pointer hover:text-blue-200" href="/sitemap.xml">Sitemap</a><span>•</span><a class="hover:cursor-pointer hover:text-blue-200" href="/atom">RSS</a></div></footer></main></div></div></div><div id="teleports"></div><script data-hid=":WFaGyVfuXU:">document.querySelectorAll('[data-prehydrate-id*=":WFaGyVfuXU:"]').forEach(e=>{let t=window._nuxtTimeNow||=Date.now(),n=(e,t)=>t>0?e[0].toUpperCase()+e.slice(1):e,r=new Date(e.getAttribute(`datetime`)),i={};for(let t of e.getAttributeNames())if(t.startsWith(`data-`)){let r=t.slice(5).split(`-`).map(n).join(``);r===`relativeStyle`&&(r=`style`),i[r]=e.getAttribute(t)}if(i.relative){let n=(r.getTime()-t)/1e3,a=[{unit:`second`,seconds:1,threshold:60},{unit:`minute`,seconds:60,threshold:60},{unit:`hour`,seconds:3600,threshold:24},{unit:`day`,seconds:86400,threshold:30},{unit:`month`,seconds:2592e3,threshold:12},{unit:`year`,seconds:31536e3,threshold:1/0}],{unit:o,seconds:s}=a.find(({seconds:e,threshold:t})=>Math.abs(n/e)<t)||a[a.length-1],c=n/s;e.textContent=new Intl.RelativeTimeFormat(i.locale,i).format(Math.round(c),o)}else e.textContent=new Intl.DateTimeFormat(i.locale,i).format(r)})</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/blog/nuxt-content-rss-feed/_payload.json?0e8c698a-b2e0-45fb-95e1-282f723580f6">[{"state":1,"once":3,"_errors":4,"serverRendered":6,"path":7,"prerenderedAt":8},["Reactive",2],{},["Set"],["ShallowReactive",5],{"/blog/nuxt-content-rss-feed":-1},true,"/blog/nuxt-content-rss-feed",1770394498375]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{wsUrl:""}},app:{baseURL:"/",buildId:"0e8c698a-b2e0-45fb-95e1-282f723580f6",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>