[{"data":1,"prerenderedAt":214},["ShallowReactive",2],{"/blog/apu2-firmware-upgrade":3},{"id":4,"title":5,"body":6,"categories":188,"date":190,"description":191,"extension":192,"img":193,"meta":194,"navigation":205,"path":206,"seo":207,"stem":209,"tags":210,"__hash__":213},"content/blog/apu2-firmware-upgrade.md","Upgrading the Firmware on the PCEngines APU2",{"type":7,"value":8,"toc":186},"minimal",[9,21,24,27,38,54,92,100,117,120,144,150,182],[10,11,12,13,20],"p",{},"I've had a ",[14,15,19],"a",{"href":16,"rel":17},"https://pcengines.ch/apu2.htm",[18],"nofollow","PCEngines APU2"," gathering dust for a\nfew years, and have recently decided to dust it off.",[10,22,23],{},"Since the last time the device has been powered on, there have been many great\nimprovements to the firmware, and it was very-much due for an upgrade. The\nfollowing steps outline how the firmware was upgraded on the APU from the\nalready-installed operating system -- CentOS.",[10,25,26],{},"First, we will connect to the device over the serial port",[28,29,34],"pre",{"className":30,"code":32,"language":33},[31],"language-text","screen /dev/tty.usbserial 115200\n","text",[35,36,32],"code",{"__ignoreMap":37},"",[10,39,40,41,44,45,48,49,53],{},"Then, we will install the ",[35,42,43],{},"flashrom"," utility that is needed to update the\nfirmware. Because it is not available in the default ",[35,46,47],{},"yum"," repositories, we\nwill enable the ",[50,51,52],"em",{},"Extra Packages for Enterprise Linux"," (EPEL) repository before\ninstallation.",[28,55,59],{"className":56,"code":57,"language":58,"meta":37,"style":37},"language-bash shiki shiki-themes github-dark","sudo yum install epel-release\nsudo yum install flashrom\n","bash",[35,60,61,80],{"__ignoreMap":37},[62,63,66,70,74,77],"span",{"class":64,"line":65},"line",1,[62,67,69],{"class":68},"svObZ","sudo",[62,71,73],{"class":72},"sU2Wk"," yum",[62,75,76],{"class":72}," install",[62,78,79],{"class":72}," epel-release\n",[62,81,83,85,87,89],{"class":64,"line":82},2,[62,84,69],{"class":68},[62,86,73],{"class":72},[62,88,76],{"class":72},[62,90,91],{"class":72}," flashrom\n",[10,93,94,95,99],{},"Next, we will download the latest version of the firmware that is compatible\nwith the APU2 device from the PC Engines release website:\n",[14,96,97],{"href":97,"rel":98},"https://pcengines.github.io/",[18],".",[28,101,103],{"className":56,"code":102,"language":58,"meta":37,"style":37},"curl -O https://3mdeb.com/open-source-firmware/pcengines/apu2/apu2_v4.11.0.1.rom\n",[35,104,105],{"__ignoreMap":37},[62,106,107,110,114],{"class":64,"line":65},[62,108,109],{"class":68},"curl",[62,111,113],{"class":112},"sDLfK"," -O",[62,115,116],{"class":72}," https://3mdeb.com/open-source-firmware/pcengines/apu2/apu2_v4.11.0.1.rom\n",[10,118,119],{},"And finally, we will flash the firmware...",[28,121,123],{"className":56,"code":122,"language":58,"meta":37,"style":37},"sudo flashrom -w apu2_v4.11.0.1.rom -p internal:boardmismatch=force\n",[35,124,125],{"__ignoreMap":37},[62,126,127,129,132,135,138,141],{"class":64,"line":65},[62,128,69],{"class":68},[62,130,131],{"class":72}," flashrom",[62,133,134],{"class":112}," -w",[62,136,137],{"class":72}," apu2_v4.11.0.1.rom",[62,139,140],{"class":112}," -p",[62,142,143],{"class":72}," internal:boardmismatch=force\n",[10,145,146],{},[147,148,149],"strong",{},"References:",[151,152,153,159,164,170,176],"ul",{},[154,155,156],"li",{},[14,157,16],{"href":16,"rel":158},[18],[154,160,161],{},[14,162,97],{"href":97,"rel":163},[18],[154,165,166],{},[14,167,168],{"href":168,"rel":169},"https://github.com/pcengines/apu2-documentation/blob/master/docs/firmware_flashing.md",[18],[154,171,172],{},[14,173,174],{"href":174,"rel":175},"https://github.com/pcengines/apu2-documentation/blob/master/docs/cold_reset.md",[18],[154,177,178],{},[14,179,180],{"href":180,"rel":181},"https://github.com/elad/openbsd-apu2",[18],[183,184,185],"style",{},"html pre.shiki code .svObZ, html code.shiki .svObZ{--shiki-default:#B392F0}html pre.shiki code .sU2Wk, html code.shiki .sU2Wk{--shiki-default:#9ECBFF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .sDLfK, html code.shiki .sDLfK{--shiki-default:#79B8FF}",{"title":37,"searchDepth":82,"depth":82,"links":187},[],[189],"linux","2019-12-21T00:00:00.000Z","I've had a PCEngines APU2 gathering dust for a\\nfew years, and have recently decided to dust it off.","md",null,{"draft":195,"excerpt":196},false,{"type":7,"value":197},[198,203],[10,199,12,200,20],{},[14,201,19],{"href":16,"rel":202},[18],[10,204,23],{},true,"/blog/apu2-firmware-upgrade",{"title":5,"description":208},"I've had a PCEngines APU2 gathering dust for a\nfew years, and have recently decided to dust it off.","blog/apu2-firmware-upgrade",[211,212],"pcengine","apu","aKx8mPKH5GJhE3SyFGBgFhaj7ZxjSdzUmhxBOcJxdPM",1761760504475]