<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Colton Padden&#x27;s: Blog &amp; Experiments</title><style>pre code .line{min-height:.25rem!important}</style><style>pre code .line{display:block}</style><link rel="stylesheet" href="/_nuxt/entry.Bw6m9hbM.css" crossorigin><link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/nuxt-p5js-3d-models/_payload.json?c852cce3-2116-4626-9aed-4a209725d000"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BxpFUmBl.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/4BV6jFxB.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bu1srdv1.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cn8NWzQ-.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DOCOcuCZ.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BdWe29b7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Bk6wn2eK.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dlp-mr6l.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/D-yqvvUu.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DEw5X3oy.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/qUUl-mB-.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/BTsMEJn7.js"><link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/c852cce3-2116-4626-9aed-4a209725d000.json"><meta name="description" content="The blog, portfolio, and repository of experiments by Colton Padden."><meta property="og:title" content="Colton Padden's: Blog & Experiments"><meta property="og:description" content="The blog, portfolio, and repository of experiments by Colton Padden."><meta property="og:image" content="/images/og-index.webp"><meta property="og:image:type" content="image/webp"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="/images/og-index.webp"><meta name="twitter:title" content="Colton Padden's: Blog & Experiments"><meta name="twitter:description" content="The blog, portfolio, and repository of experiments by Colton Padden."><script type="module" src="/_nuxt/BxpFUmBl.js" crossorigin></script></head><body  class="bg-background"><div id="__nuxt"><div class="bg-gradient-to-b from-orange-500 to-red-500"><div class="p-[8px]"><main class="flex h-[calc(100vh-16px)] flex-col bg-background font-display"><nav class="container mx-auto py-5"><div class="flex items-center text-gray-700 dark:text-gray-200"><div class="flex-1"></div><div class="flex items-center space-x-2"><div data-headlessui-state class="relative z-50 inline-block text-left"><div><button id="headlessui-menu-button-v-0-0" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state class="transform text-gray-700 transition-all duration-300 ease-in-out hover:scale-110 hover:text-orange-500 active:scale-95 dark:text-white"><div class="text-2xl">•••</div></button></div><!----></div></div></div></nav><main class="no-scrollbar flex-1 overflow-scroll"><!--[--><div class="container mx-auto mb-10 max-w-[1024px] space-y-6 text-white shadow-lg"><div class="flex"><!----><h1 class="text-2xl font-bold md:text-3xl">Render three-dimensional models in NuxtContent with p5js</h1></div><div class=""><div class="flex-row space-x-0 md:flex md:space-x-2"><time data-year="numeric" data-month="short" data-day="2-digit" datetime="2024-12-31T00:00:00.000Z" class="text-xs uppercase text-gray-400" data-prehydrate-id=":WFaGyVfuXU:">Dec 31, 2024</time><div><div class="flex flex-row space-x-2 uppercase"><div class="text-xs uppercase text-gray-400">Categories</div><!--[--><a href="/blog?category=examples" class="w-min rounded-md bg-background text-xs font-bold uppercase hover:cursor-pointer hover:text-orange-500">examples</a><!--]--></div></div><div><div class="flex flex-row space-x-2 text-xs uppercase"><div class="text-xs uppercase text-gray-400">Tags</div><!--[--><a href="/blog?tag=nuxt" class="w-min rounded-md bg-background font-bold hover:cursor-pointer hover:text-orange-500">nuxt</a><a href="/blog?tag=p5js" class="w-min rounded-md bg-background font-bold hover:cursor-pointer hover:text-orange-500">p5js</a><a href="/blog?tag=3d" class="w-min rounded-md bg-background font-bold hover:cursor-pointer hover:text-orange-500">3d</a><!--]--></div></div></div></div><article class="prose max-w-[1024px] text-gray-300 prose-h2:mt-8 prose-a:font-bold prose-a:text-orange-300 prose-a:no-underline hover:prose-a:text-orange-500 prose-blockquote:text-gray-400 prose-code:text-white prose-pre:bg-orange-950/50 prose-li:my-0"><div><p><!--[-->Three-dimensional models, whether they be of the format <code><!--[-->.obj<!--]--></code> or <code><!--[-->.stl<!--]--></code>, can be easily rendered in your Nuxt project by using the <a href="https://p5js.org/" rel="nofollow"><!--[-->p5js.org<!--]--></a> library.<!--]--></p><blockquote><!--[--><p><!--[-->Update 2025: the interactive demos on this site now load the standalone <a href="https://cmpadden.github.io/p5/" rel="nofollow"><!--[-->p5 playground<!--]--></a> within an iframe. The component API described below still works when embedding the GitHub Pages build of that project.<!--]--></p><!--]--></blockquote><p><!--[-->I&#39;ve been using p5 for a while now to tinker and explore generative art, some of which can be found in the <a href="/playground" class=""><!--[-->/playground<!--]--></a> section of this website. To use it with Nuxt, a <a href="https://github.com/cmpadden/cmpadden.github.io/blob/70ba674acdbe80c4a41b510a9b54edcddb19f489/plugins/p5.client.js" rel="nofollow"><!--[-->client-side plugin<!--]--></a> was created like so:<!--]--></p><pre class="language-js shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="sAwPA">// plugins/p5.client.js
</span></span><span class="line" line="2"><span class="snl16">import</span><span class="s95oV"> p5 </span><span class="snl16">from</span><span class="sU2Wk"> &#39;p5&#39;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span class="snl16">export</span><span class="snl16"> default</span><span class="svObZ"> defineNuxtPlugin</span><span class="s95oV">(() </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="5"><span class="snl16">  return</span><span class="s95oV"> {
</span></span><span class="line" line="6"><span class="s95oV">    provide: {
</span></span><span class="line" line="7"><span class="s95oV">      p5, p5
</span></span><span class="line" line="8"><span class="s95oV">    }
</span></span><span class="line" line="9"><span class="s95oV">  }
</span></span><span class="line" line="10"><span class="s95oV">})
</span></span></code><!--]--></pre><p><!--[-->As I&#39;ve been exploring 3d-printing lately, I wanted a way to showcase some of the models I&#39;ve created directly on this website. So, the <code><!--[-->ModelPreview<!--]--></code> component was created, and the snippet below shows how it&#39;s embedded in markdown.<!--]--></p><p><!--[-->The Vue component was embedded in our markdown using the following syntax is used. The <code><!--[-->path<!--]--></code> prop with the location of the file we want to render; in this case, that file is served on the website as well in the <code><!--[-->public/models<!--]--></code> folder.<!--]--></p><pre class="language-text"><!--[--><code>:ModelPreview{path=&quot;/models/eevee.stl&quot;}
</code><!--]--></pre><p><!--[-->The component was registered globally by using the <code><!--[-->ModelPreview.global.vue<!--]--></code> filename so that it was accessible in our markdown. Alternatively, this could have been accomplished by placing the component in the <code><!--[-->components/content<!--]--></code> folder. However, I wanted to use this component in both markdown and Vue files. See the <a href="https://content.nuxt.com/usage/markdown#vue-components" rel="nofollow"><!--[-->NuxtContent<!--]--></a> documentation for more details.<!--]--></p><p><!--[-->The full source code for the <code><!--[-->ModelPreview<!--]--></code> component at the time of this writing can be found below. Not too bad!<!--]--></p><pre class="language-js shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span class="s95oV">&lt;</span><span class="s4JwU">template</span><span class="s95oV">&gt;
</span></span><span class="line" line="2"><span class="s95oV">    &lt;</span><span class="s4JwU">div</span><span class="svObZ"> id</span><span class="snl16">=</span><span class="sU2Wk">&quot;canvas&quot;</span><span class="svObZ"> class</span><span class="snl16">=</span><span class="sU2Wk">&quot;h-64&quot;</span><span class="s95oV"> /&gt;
</span></span><span class="line" line="3"><span class="s95oV">&lt;/</span><span class="s4JwU">template</span><span class="s95oV">&gt;
</span></span><span class="line" line="4"><span emptylineplaceholder="true">
</span></span><span class="line" line="5"><span class="s95oV">&lt;</span><span class="s4JwU">script</span><span class="svObZ"> setup</span><span class="svObZ"> lang</span><span class="snl16">=</span><span class="sU2Wk">&quot;ts&quot;</span><span class="s95oV">&gt;
</span></span><span class="line" line="6"><span class="s95oV">const { $p5 } = useNuxtApp();
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span class="s95oV">const { path, backgroundColor </span><span class="snl16">=</span><span class="sDLfK"> 100</span><span class="s95oV"> } = defineProps &lt; { path: string, backgroundColor</span><span class="snl16">?:</span><span class="s95oV"> Number } &gt; ()
</span></span><span class="line" line="9"><span emptylineplaceholder="true">
</span></span><span class="line" line="10"><span class="s95oV">onMounted(() =&gt; {
</span></span><span class="line" line="11"><span class="s95oV">console.</span><span class="svObZ">log</span><span class="s95oV">(backgroundColor);
</span></span><span class="line" line="12"><span class="s95oV">    const </span><span class="svObZ">sketch</span><span class="snl16"> =</span><span class="s95oV"> (</span><span class="s9osk">s</span><span class="s95oV">) </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="13"><span class="snl16">        const</span><span class="sDLfK"> c</span><span class="snl16"> =</span><span class="s95oV"> document.</span><span class="svObZ">getElementById</span><span class="s95oV">(</span><span class="sU2Wk">&quot;canvas&quot;</span><span class="s95oV">);
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span class="snl16">        const</span><span class="sDLfK"> WIDTH</span><span class="snl16"> =</span><span class="s95oV"> c.clientWidth;
</span></span><span class="line" line="16"><span class="snl16">        const</span><span class="sDLfK"> HEIGHT</span><span class="snl16"> =</span><span class="s95oV"> c.clientHeight;
</span></span><span class="line" line="17"><span emptylineplaceholder="true">
</span></span><span class="line" line="18"><span class="snl16">        let</span><span class="s95oV"> model;
</span></span><span class="line" line="19"><span class="snl16">        let</span><span class="s95oV"> angle;
</span></span><span class="line" line="20"><span class="snl16">        let</span><span class="s95oV"> rotate </span><span class="snl16">=</span><span class="sDLfK"> true</span><span class="s95oV">;
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span class="s95oV">        s.</span><span class="svObZ">preload</span><span class="snl16"> =</span><span class="s95oV"> () </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="23"><span class="s95oV">            model </span><span class="snl16">=</span><span class="s95oV"> s.</span><span class="svObZ">loadModel</span><span class="s95oV">(path, </span><span class="sDLfK">true</span><span class="s95oV">);
</span></span><span class="line" line="24"><span class="s95oV">        };
</span></span><span class="line" line="25"><span emptylineplaceholder="true">
</span></span><span class="line" line="26"><span class="s95oV">        s.</span><span class="svObZ">setup</span><span class="snl16"> =</span><span class="s95oV"> () </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="27"><span class="s95oV">            s.</span><span class="svObZ">createCanvas</span><span class="s95oV">(</span><span class="sDLfK">WIDTH</span><span class="s95oV">, </span><span class="sDLfK">HEIGHT</span><span class="s95oV">, s.</span><span class="sDLfK">WEBGL</span><span class="s95oV">);
</span></span><span class="line" line="28"><span class="s95oV">        };
</span></span><span class="line" line="29"><span emptylineplaceholder="true">
</span></span><span class="line" line="30"><span class="s95oV">        s.</span><span class="svObZ">mouseClicked</span><span class="snl16"> =</span><span class="s95oV"> () </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="31"><span class="s95oV">            rotate </span><span class="snl16">=</span><span class="sDLfK"> false</span><span class="s95oV">; </span><span class="sAwPA">// disable object rotation on click
</span></span><span class="line" line="32"><span class="s95oV">        };
</span></span><span class="line" line="33"><span emptylineplaceholder="true">
</span></span><span class="line" line="34"><span class="s95oV">        s.</span><span class="svObZ">draw</span><span class="snl16"> =</span><span class="s95oV"> () </span><span class="snl16">=&gt;</span><span class="s95oV"> {
</span></span><span class="line" line="35"><span class="s95oV">            s.</span><span class="svObZ">background</span><span class="s95oV">(backgroundColor);
</span></span><span class="line" line="36"><span class="s95oV">            s.</span><span class="svObZ">lights</span><span class="s95oV">();
</span></span><span class="line" line="37"><span emptylineplaceholder="true">
</span></span><span class="line" line="38"><span class="snl16">            if</span><span class="s95oV"> (rotate) {
</span></span><span class="line" line="39"><span class="s95oV">                angle </span><span class="snl16">=</span><span class="s95oV"> s.frameCount </span><span class="snl16">*</span><span class="sDLfK"> 0.005</span><span class="s95oV">;
</span></span><span class="line" line="40"><span class="s95oV">            }
</span></span><span class="line" line="41"><span class="s95oV">            s.</span><span class="svObZ">rotateX</span><span class="s95oV">(angle);
</span></span><span class="line" line="42"><span class="s95oV">            s.</span><span class="svObZ">rotateY</span><span class="s95oV">(angle);
</span></span><span class="line" line="43"><span class="s95oV">            s.</span><span class="svObZ">orbitControl</span><span class="s95oV">();
</span></span><span class="line" line="44"><span emptylineplaceholder="true">
</span></span><span class="line" line="45"><span class="s95oV">            s.</span><span class="svObZ">model</span><span class="s95oV">(model);
</span></span><span class="line" line="46"><span class="s95oV">        };
</span></span><span class="line" line="47"><span class="s95oV">    };
</span></span><span class="line" line="48"><span emptylineplaceholder="true">
</span></span><span class="line" line="49"><span class="snl16">    new</span><span class="svObZ"> $p5</span><span class="s95oV">(sketch, </span><span class="sU2Wk">&quot;canvas&quot;</span><span class="s95oV">);
</span></span><span class="line" line="50"><span class="s95oV">});
</span></span><span class="line" line="51"><span class="s95oV">&lt;/</span><span class="s4JwU">script</span><span class="s95oV">&gt;
</span></span></code><!--]--></pre><p><!--[-->Looking forward to sharing more models soon!<!--]--></p><style>html pre.shiki code .sAwPA, html code.shiki .sAwPA{--shiki-default:#6A737D}html pre.shiki code .snl16, html code.shiki .snl16{--shiki-default:#F97583}html pre.shiki code .s95oV, html code.shiki .s95oV{--shiki-default:#E1E4E8}html pre.shiki code .sU2Wk, html code.shiki .sU2Wk{--shiki-default:#9ECBFF}html pre.shiki code .svObZ, html code.shiki .svObZ{--shiki-default:#B392F0}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .s4JwU, html code.shiki .s4JwU{--shiki-default:#85E89D}html pre.shiki code .sDLfK, html code.shiki .sDLfK{--shiki-default:#79B8FF}html pre.shiki code .s9osk, html code.shiki .s9osk{--shiki-default:#FFAB70}</style></div></article></div><!--]--></main><footer class="pin-b w-full p-4 text-xs font-bold text-white"><div class="flex justify-center space-x-2"><a class="hover:cursor-pointer hover:text-blue-200" href="https://github.com/cmpadden/cmpadden.github.io"> © Colton Padden</a><span>•</span><a class="hover:cursor-pointer hover:text-blue-200" href="/sitemap.xml">Sitemap</a><span>•</span><a class="hover:cursor-pointer hover:text-blue-200" href="/atom">RSS</a></div></footer></main></div></div></div><div id="teleports"></div><script data-hid=":WFaGyVfuXU:">document.querySelectorAll('[data-prehydrate-id*=":WFaGyVfuXU:"]').forEach(e=>{let t=window._nuxtTimeNow||=Date.now(),n=(e,t)=>t>0?e[0].toUpperCase()+e.slice(1):e,r=new Date(e.getAttribute(`datetime`)),i={};for(let t of e.getAttributeNames())if(t.startsWith(`data-`)){let r=t.slice(5).split(`-`).map(n).join(``);r===`relativeStyle`&&(r=`style`),i[r]=e.getAttribute(t)}if(i.relative){let n=(r.getTime()-t)/1e3,a=[{unit:`second`,seconds:1,threshold:60},{unit:`minute`,seconds:60,threshold:60},{unit:`hour`,seconds:3600,threshold:24},{unit:`day`,seconds:86400,threshold:30},{unit:`month`,seconds:2592e3,threshold:12},{unit:`year`,seconds:31536e3,threshold:1/0}],{unit:o,seconds:s}=a.find(({seconds:e,threshold:t})=>Math.abs(n/e)<t)||a[a.length-1],c=n/s;e.textContent=new Intl.RelativeTimeFormat(i.locale,i).format(Math.round(c),o)}else e.textContent=new Intl.DateTimeFormat(i.locale,i).format(r)})</script><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/blog/nuxt-p5js-3d-models/_payload.json?c852cce3-2116-4626-9aed-4a209725d000">[{"state":1,"once":3,"_errors":4,"serverRendered":6,"path":7,"prerenderedAt":8},["Reactive",2],{},["Set"],["ShallowReactive",5],{"/blog/nuxt-p5js-3d-models":-1},true,"/blog/nuxt-p5js-3d-models",1769487805064]</script><script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{wsUrl:""}},app:{baseURL:"/",buildId:"c852cce3-2116-4626-9aed-4a209725d000",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>