[{"data":1,"prerenderedAt":825},["ShallowReactive",2],{"/blog/nuxt-p5js-3d-models":3},{"id":4,"title":5,"body":6,"categories":792,"date":794,"description":795,"extension":796,"img":797,"meta":798,"navigation":96,"path":817,"seo":818,"stem":819,"tags":820,"__hash__":824},"content/blog/nuxt-p5js-3d-models.md","Render three-dimensional models in NuxtContent with p5js",{"type":7,"value":8,"toc":790},"minimark",[9,30,42,55,158,165,170,181,189,206,212,783,786],[10,11,12,13,17,18,21,22,29],"p",{},"Three-dimensional models, whether they be of the format ",[14,15,16],"code",{},".obj"," or ",[14,19,20],{},".stl",", can be easily rendered in your Nuxt project by using the ",[23,24,28],"a",{"href":25,"rel":26},"https://p5js.org/",[27],"nofollow","p5js.org"," library.",[31,32,33],"blockquote",{},[10,34,35,36,41],{},"Update 2025: the interactive demos on this site now load the standalone ",[23,37,40],{"href":38,"rel":39},"https://cmpadden.github.io/p5/",[27],"p5 playground"," within an iframe. The component API described below still works when embedding the GitHub Pages build of that project.",[10,43,44,45,48,49,54],{},"I've been using p5 for a while now to tinker and explore generative art, some of which can be found in the ",[23,46,47],{"href":47},"/playground"," section of this website. To use it with Nuxt, a ",[23,50,53],{"href":51,"rel":52},"https://github.com/cmpadden/cmpadden.github.io/blob/70ba674acdbe80c4a41b510a9b54edcddb19f489/plugins/p5.client.js",[27],"client-side plugin"," was created like so:",[56,57,62],"pre",{"className":58,"code":59,"language":60,"meta":61,"style":61},"language-js shiki shiki-themes github-dark","// plugins/p5.client.js\nimport p5 from 'p5'\n\nexport default defineNuxtPlugin(() => {\n  return {\n    provide: {\n      p5, p5\n    }\n  }\n})\n","js","",[14,63,64,73,91,98,120,128,134,140,146,152],{"__ignoreMap":61},[65,66,69],"span",{"class":67,"line":68},"line",1,[65,70,72],{"class":71},"sAwPA","// plugins/p5.client.js\n",[65,74,76,80,84,87],{"class":67,"line":75},2,[65,77,79],{"class":78},"snl16","import",[65,81,83],{"class":82},"s95oV"," p5 ",[65,85,86],{"class":78},"from",[65,88,90],{"class":89},"sU2Wk"," 'p5'\n",[65,92,94],{"class":67,"line":93},3,[65,95,97],{"emptyLinePlaceholder":96},true,"\n",[65,99,101,104,107,111,114,117],{"class":67,"line":100},4,[65,102,103],{"class":78},"export",[65,105,106],{"class":78}," default",[65,108,110],{"class":109},"svObZ"," defineNuxtPlugin",[65,112,113],{"class":82},"(() ",[65,115,116],{"class":78},"=>",[65,118,119],{"class":82}," {\n",[65,121,123,126],{"class":67,"line":122},5,[65,124,125],{"class":78},"  return",[65,127,119],{"class":82},[65,129,131],{"class":67,"line":130},6,[65,132,133],{"class":82},"    provide: {\n",[65,135,137],{"class":67,"line":136},7,[65,138,139],{"class":82},"      p5, p5\n",[65,141,143],{"class":67,"line":142},8,[65,144,145],{"class":82},"    }\n",[65,147,149],{"class":67,"line":148},9,[65,150,151],{"class":82},"  }\n",[65,153,155],{"class":67,"line":154},10,[65,156,157],{"class":82},"})\n",[10,159,160,161,164],{},"As I've been exploring 3d-printing lately, I wanted a way to showcase some of the models I've created directly on this website. So, the ",[14,162,163],{},"ModelPreview"," component was created, which you can see in use below.",[166,167],"model-preview",{":background-color":168,"path":169},"50","/models/eevee.stl",[10,171,172,173,176,177,180],{},"The Vue component was embedded in our markdown using the following syntax is used. The ",[14,174,175],{},"path"," prop with the location of the file we want to render; in this case, that file is served on the website as well in the ",[14,178,179],{},"public/models"," folder.",[56,182,187],{"className":183,"code":185,"language":186},[184],"language-text",":ModelPreview{path=\"/models/eevee.stl\"}\n","text",[14,188,185],{"__ignoreMap":61},[10,190,191,192,195,196,199,200,205],{},"The component was registered globally by using the ",[14,193,194],{},"ModelPreview.global.vue"," filename so that it was accessible in our markdown. Alternatively, this could have been accomplished by placing the component in the ",[14,197,198],{},"components/content"," folder. However, I wanted to use this component in both markdown and Vue files. See the ",[23,201,204],{"href":202,"rel":203},"https://content.nuxt.com/usage/markdown#vue-components",[27],"NuxtContent"," documentation for more details.",[10,207,208,209,211],{},"The full source code for the ",[14,210,163],{}," component at the time of this writing can be found below. Not too bad!",[56,213,215],{"className":58,"code":214,"language":60,"meta":61,"style":61},"\u003Ctemplate>\n    \u003Cdiv id=\"canvas\" class=\"h-64\" />\n\u003C/template>\n\n\u003Cscript setup lang=\"ts\">\nconst { $p5 } = useNuxtApp();\n\nconst { path, backgroundColor = 100 } = defineProps \u003C { path: string, backgroundColor?: Number } > ()\n\nonMounted(() => {\nconsole.log(backgroundColor);\n    const sketch = (s) => {\n        const c = document.getElementById(\"canvas\");\n\n        const WIDTH = c.clientWidth;\n        const HEIGHT = c.clientHeight;\n\n        let model;\n        let angle;\n        let rotate = true;\n\n        s.preload = () => {\n            model = s.loadModel(path, true);\n        };\n\n        s.setup = () => {\n            s.createCanvas(WIDTH, HEIGHT, s.WEBGL);\n        };\n\n        s.mouseClicked = () => {\n            rotate = false; // disable object rotation on click\n        };\n\n        s.draw = () => {\n            s.background(backgroundColor);\n            s.lights();\n\n            if (rotate) {\n                angle = s.frameCount * 0.005;\n            }\n            s.rotateX(angle);\n            s.rotateY(angle);\n            s.orbitControl();\n\n            s.model(model);\n        };\n    };\n\n    new $p5(sketch, \"canvas\");\n});\n\u003C/script>\n",[14,216,217,229,257,266,270,290,295,299,319,323,328,340,366,391,396,409,422,427,436,444,460,465,483,505,511,516,532,560,565,570,586,603,608,613,629,639,650,655,664,683,689,700,710,720,725,736,741,747,752,768,774],{"__ignoreMap":61},[65,218,219,222,226],{"class":67,"line":68},[65,220,221],{"class":82},"\u003C",[65,223,225],{"class":224},"s4JwU","template",[65,227,228],{"class":82},">\n",[65,230,231,234,237,240,243,246,249,251,254],{"class":67,"line":75},[65,232,233],{"class":82},"    \u003C",[65,235,236],{"class":224},"div",[65,238,239],{"class":109}," id",[65,241,242],{"class":78},"=",[65,244,245],{"class":89},"\"canvas\"",[65,247,248],{"class":109}," class",[65,250,242],{"class":78},[65,252,253],{"class":89},"\"h-64\"",[65,255,256],{"class":82}," />\n",[65,258,259,262,264],{"class":67,"line":93},[65,260,261],{"class":82},"\u003C/",[65,263,225],{"class":224},[65,265,228],{"class":82},[65,267,268],{"class":67,"line":100},[65,269,97],{"emptyLinePlaceholder":96},[65,271,272,274,277,280,283,285,288],{"class":67,"line":122},[65,273,221],{"class":82},[65,275,276],{"class":224},"script",[65,278,279],{"class":109}," setup",[65,281,282],{"class":109}," lang",[65,284,242],{"class":78},[65,286,287],{"class":89},"\"ts\"",[65,289,228],{"class":82},[65,291,292],{"class":67,"line":130},[65,293,294],{"class":82},"const { $p5 } = useNuxtApp();\n",[65,296,297],{"class":67,"line":136},[65,298,97],{"emptyLinePlaceholder":96},[65,300,301,304,306,310,313,316],{"class":67,"line":142},[65,302,303],{"class":82},"const { path, backgroundColor ",[65,305,242],{"class":78},[65,307,309],{"class":308},"sDLfK"," 100",[65,311,312],{"class":82}," } = defineProps \u003C { path: string, backgroundColor",[65,314,315],{"class":78},"?:",[65,317,318],{"class":82}," Number } > ()\n",[65,320,321],{"class":67,"line":148},[65,322,97],{"emptyLinePlaceholder":96},[65,324,325],{"class":67,"line":154},[65,326,327],{"class":82},"onMounted(() => {\n",[65,329,331,334,337],{"class":67,"line":330},11,[65,332,333],{"class":82},"console.",[65,335,336],{"class":109},"log",[65,338,339],{"class":82},"(backgroundColor);\n",[65,341,343,346,349,352,355,359,362,364],{"class":67,"line":342},12,[65,344,345],{"class":82},"    const ",[65,347,348],{"class":109},"sketch",[65,350,351],{"class":78}," =",[65,353,354],{"class":82}," (",[65,356,358],{"class":357},"s9osk","s",[65,360,361],{"class":82},") ",[65,363,116],{"class":78},[65,365,119],{"class":82},[65,367,369,372,375,377,380,383,386,388],{"class":67,"line":368},13,[65,370,371],{"class":78},"        const",[65,373,374],{"class":308}," c",[65,376,351],{"class":78},[65,378,379],{"class":82}," document.",[65,381,382],{"class":109},"getElementById",[65,384,385],{"class":82},"(",[65,387,245],{"class":89},[65,389,390],{"class":82},");\n",[65,392,394],{"class":67,"line":393},14,[65,395,97],{"emptyLinePlaceholder":96},[65,397,399,401,404,406],{"class":67,"line":398},15,[65,400,371],{"class":78},[65,402,403],{"class":308}," WIDTH",[65,405,351],{"class":78},[65,407,408],{"class":82}," c.clientWidth;\n",[65,410,412,414,417,419],{"class":67,"line":411},16,[65,413,371],{"class":78},[65,415,416],{"class":308}," HEIGHT",[65,418,351],{"class":78},[65,420,421],{"class":82}," c.clientHeight;\n",[65,423,425],{"class":67,"line":424},17,[65,426,97],{"emptyLinePlaceholder":96},[65,428,430,433],{"class":67,"line":429},18,[65,431,432],{"class":78},"        let",[65,434,435],{"class":82}," model;\n",[65,437,439,441],{"class":67,"line":438},19,[65,440,432],{"class":78},[65,442,443],{"class":82}," angle;\n",[65,445,447,449,452,454,457],{"class":67,"line":446},20,[65,448,432],{"class":78},[65,450,451],{"class":82}," rotate ",[65,453,242],{"class":78},[65,455,456],{"class":308}," true",[65,458,459],{"class":82},";\n",[65,461,463],{"class":67,"line":462},21,[65,464,97],{"emptyLinePlaceholder":96},[65,466,468,471,474,476,479,481],{"class":67,"line":467},22,[65,469,470],{"class":82},"        s.",[65,472,473],{"class":109},"preload",[65,475,351],{"class":78},[65,477,478],{"class":82}," () ",[65,480,116],{"class":78},[65,482,119],{"class":82},[65,484,486,489,491,494,497,500,503],{"class":67,"line":485},23,[65,487,488],{"class":82},"            model ",[65,490,242],{"class":78},[65,492,493],{"class":82}," s.",[65,495,496],{"class":109},"loadModel",[65,498,499],{"class":82},"(path, ",[65,501,502],{"class":308},"true",[65,504,390],{"class":82},[65,506,508],{"class":67,"line":507},24,[65,509,510],{"class":82},"        };\n",[65,512,514],{"class":67,"line":513},25,[65,515,97],{"emptyLinePlaceholder":96},[65,517,519,521,524,526,528,530],{"class":67,"line":518},26,[65,520,470],{"class":82},[65,522,523],{"class":109},"setup",[65,525,351],{"class":78},[65,527,478],{"class":82},[65,529,116],{"class":78},[65,531,119],{"class":82},[65,533,535,538,541,543,546,549,552,555,558],{"class":67,"line":534},27,[65,536,537],{"class":82},"            s.",[65,539,540],{"class":109},"createCanvas",[65,542,385],{"class":82},[65,544,545],{"class":308},"WIDTH",[65,547,548],{"class":82},", ",[65,550,551],{"class":308},"HEIGHT",[65,553,554],{"class":82},", s.",[65,556,557],{"class":308},"WEBGL",[65,559,390],{"class":82},[65,561,563],{"class":67,"line":562},28,[65,564,510],{"class":82},[65,566,568],{"class":67,"line":567},29,[65,569,97],{"emptyLinePlaceholder":96},[65,571,573,575,578,580,582,584],{"class":67,"line":572},30,[65,574,470],{"class":82},[65,576,577],{"class":109},"mouseClicked",[65,579,351],{"class":78},[65,581,478],{"class":82},[65,583,116],{"class":78},[65,585,119],{"class":82},[65,587,589,592,594,597,600],{"class":67,"line":588},31,[65,590,591],{"class":82},"            rotate ",[65,593,242],{"class":78},[65,595,596],{"class":308}," false",[65,598,599],{"class":82},"; ",[65,601,602],{"class":71},"// disable object rotation on click\n",[65,604,606],{"class":67,"line":605},32,[65,607,510],{"class":82},[65,609,611],{"class":67,"line":610},33,[65,612,97],{"emptyLinePlaceholder":96},[65,614,616,618,621,623,625,627],{"class":67,"line":615},34,[65,617,470],{"class":82},[65,619,620],{"class":109},"draw",[65,622,351],{"class":78},[65,624,478],{"class":82},[65,626,116],{"class":78},[65,628,119],{"class":82},[65,630,632,634,637],{"class":67,"line":631},35,[65,633,537],{"class":82},[65,635,636],{"class":109},"background",[65,638,339],{"class":82},[65,640,642,644,647],{"class":67,"line":641},36,[65,643,537],{"class":82},[65,645,646],{"class":109},"lights",[65,648,649],{"class":82},"();\n",[65,651,653],{"class":67,"line":652},37,[65,654,97],{"emptyLinePlaceholder":96},[65,656,658,661],{"class":67,"line":657},38,[65,659,660],{"class":78},"            if",[65,662,663],{"class":82}," (rotate) {\n",[65,665,667,670,672,675,678,681],{"class":67,"line":666},39,[65,668,669],{"class":82},"                angle ",[65,671,242],{"class":78},[65,673,674],{"class":82}," s.frameCount ",[65,676,677],{"class":78},"*",[65,679,680],{"class":308}," 0.005",[65,682,459],{"class":82},[65,684,686],{"class":67,"line":685},40,[65,687,688],{"class":82},"            }\n",[65,690,692,694,697],{"class":67,"line":691},41,[65,693,537],{"class":82},[65,695,696],{"class":109},"rotateX",[65,698,699],{"class":82},"(angle);\n",[65,701,703,705,708],{"class":67,"line":702},42,[65,704,537],{"class":82},[65,706,707],{"class":109},"rotateY",[65,709,699],{"class":82},[65,711,713,715,718],{"class":67,"line":712},43,[65,714,537],{"class":82},[65,716,717],{"class":109},"orbitControl",[65,719,649],{"class":82},[65,721,723],{"class":67,"line":722},44,[65,724,97],{"emptyLinePlaceholder":96},[65,726,728,730,733],{"class":67,"line":727},45,[65,729,537],{"class":82},[65,731,732],{"class":109},"model",[65,734,735],{"class":82},"(model);\n",[65,737,739],{"class":67,"line":738},46,[65,740,510],{"class":82},[65,742,744],{"class":67,"line":743},47,[65,745,746],{"class":82},"    };\n",[65,748,750],{"class":67,"line":749},48,[65,751,97],{"emptyLinePlaceholder":96},[65,753,755,758,761,764,766],{"class":67,"line":754},49,[65,756,757],{"class":78},"    new",[65,759,760],{"class":109}," $p5",[65,762,763],{"class":82},"(sketch, ",[65,765,245],{"class":89},[65,767,390],{"class":82},[65,769,771],{"class":67,"line":770},50,[65,772,773],{"class":82},"});\n",[65,775,777,779,781],{"class":67,"line":776},51,[65,778,261],{"class":82},[65,780,276],{"class":224},[65,782,228],{"class":82},[10,784,785],{},"Looking forward to sharing more models soon!",[787,788,789],"style",{},"html pre.shiki code .sAwPA, html code.shiki .sAwPA{--shiki-default:#6A737D}html pre.shiki code .snl16, html code.shiki .snl16{--shiki-default:#F97583}html pre.shiki code .s95oV, html code.shiki .s95oV{--shiki-default:#E1E4E8}html pre.shiki code .sU2Wk, html code.shiki .sU2Wk{--shiki-default:#9ECBFF}html pre.shiki code .svObZ, html code.shiki .svObZ{--shiki-default:#B392F0}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html pre.shiki code .s4JwU, html code.shiki .s4JwU{--shiki-default:#85E89D}html pre.shiki code .sDLfK, html code.shiki .sDLfK{--shiki-default:#79B8FF}html pre.shiki code .s9osk, html code.shiki .s9osk{--shiki-default:#FFAB70}",{"title":61,"searchDepth":75,"depth":75,"links":791},[],[793],"examples","2024-12-31T00:00:00.000Z","Three-dimensional models, whether they be of the format .obj or .stl, can be easily rendered in your Nuxt project by using the p5js.org library.","md",null,{"excerpt":799},{"type":7,"value":800},[801,810],[10,802,12,803,17,805,21,807,29],{},[14,804,16],{},[14,806,20],{},[23,808,28],{"href":25,"rel":809},[27],[31,811,812],{},[10,813,35,814,41],{},[23,815,40],{"href":38,"rel":816},[27],"/blog/nuxt-p5js-3d-models",{"title":5,"description":795},"blog/nuxt-p5js-3d-models",[821,822,823],"nuxt","p5js","3d","a1reHayxQvbr_moTjD0MaC7lA6CbXDvysSCrWH4voqA",1769485337067]